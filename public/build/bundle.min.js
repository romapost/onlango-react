!function e(t,r,n){function o(u,l){if(!r[u]){if(!t[u]){var c="function"==typeof require&&require;if(!l&&c)return c(u,!0);if(a)return a(u,!0);var i=new Error("Cannot find module '"+u+"'");throw i.code="MODULE_NOT_FOUND",i}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(e){var r=t[u][1][e];return o(r?r:e)},s,s.exports,e,t,r,n)}return r[u].exports}for(var a="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.uploadImage=r.logout=r.register=r.login=void 0;var o=e("redux-actions"),a=e("../constants"),u=e("superagent"),l=n(u),c=function(e,t,r,n){var a=(0,o.createAction)(t),u=(0,o.createAction)(r),c=(0,o.createAction)(n);return function(t,r){return function(n){n(a()),l["default"].post(e).send({email:t,password:r}).end(function(e,t){n(e?u(e):c(t.body))})}}};r.login=c("/api/login",a.LOGIN,a.LOGIN_FAIL,a.LOGIN_SUCCESS),r.register=c("/api/register",a.REGISTER,a.REGISTER_FAIL,a.REGISTER_SUCCESS),r.logout=function(){return function(e){e((0,o.createAction)(a.LOGOUT)())}},r.uploadImage=function(e,t){return function(r){r((0,o.createAction)(a.UPLOAD_IMAGE)()),l["default"].post("/api/setuserpic").set("Authorization","Bearer "+t).attach("image",e).end(function(e,t){console.log(e,t),r(e?(0,o.createAction)(a.UPLOAD_IMAGE_FAIL)(e):(0,o.createAction)(a.UPLOAD_IMAGE_SUCCESS)(t.headers.location))})}}},{"../constants":7,"redux-actions":"redux-actions",superagent:"superagent"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o);r["default"]=function(e){return a["default"].createElement("h1",null,"404 Error Page")}},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o),u=e("react-bootstrap"),l=e("react-router-bootstrap"),c={userpic:{width:"48px"}},i=function(e,t){return a["default"].createElement(u.Navbar,null,a["default"].createElement(u.Navbar.Header,null,a["default"].createElement(u.Navbar.Brand,null,"Onlango-react")),a["default"].createElement(u.Nav,{pullRight:!0},a["default"].createElement(u.NavDropdown,{eventKey:1,id:"nav-dropdown-profile",title:a["default"].createElement(u.Image,{src:t.userinfo.image,circle:!0,style:c.userpic})},a["default"].createElement(l.LinkContainer,{to:"/profile"},a["default"].createElement(u.MenuItem,null,"Профиль")),a["default"].createElement(u.MenuItem,{onClick:t.logout},"Выход"))))};i.contextTypes={userinfo:a["default"].PropTypes.object,logout:a["default"].PropTypes.func},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=e("react"),u=n(a),l=e("react-bootstrap"),c=e("react-dropzone"),i=n(c),s=function(e,t){var r=t.userinfo,n=r.image,a=r.name,c=r.surname,s=r.country,f=r.city,d=r.birthdate;return u["default"].createElement(l.Grid,{className:"profile edit"},u["default"].createElement(l.Row,null,u["default"].createElement(l.Col,{xs:3,className:"text-center"},u["default"].createElement(i["default"],{onDrop:function(e){var r=o(e,1),n=r[0];t.uploadImage(n,t.accessToken)},multiple:!1},u["default"].createElement(l.Image,{src:n,circle:!0}),u["default"].createElement("div",null,"Try dropping some files here, or click to select files to upload."))),u["default"].createElement(l.Col,null,u["default"].createElement("h2",null,[a,c].join(" ")),u["default"].createElement("p",null,[s,f,d].join(" ")))))};s.contextTypes={userinfo:u["default"].PropTypes.object,uploadImage:u["default"].PropTypes.func,accessToken:u["default"].PropTypes.string},r["default"]=s},{react:"react","react-bootstrap":"react-bootstrap","react-dropzone":"react-dropzone"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o),u=e("react-bootstrap"),l=e("react-router-bootstrap"),c={editButton:{marginTop:"2rem"}},i=function(e,t){var r=t.userinfo,n=r.image,o=r.name,i=r.surname,s=r.country,f=r.city,d=r.birthdate;return a["default"].createElement(u.Grid,{className:"profile"},a["default"].createElement(u.Row,null,a["default"].createElement(u.Col,{xs:3,className:"text-center"},a["default"].createElement(u.Image,{src:n,circle:!0,className:"center-block"}),a["default"].createElement(l.LinkContainer,{to:"/profile/edit"},a["default"].createElement(u.Button,{bsStyle:"info",bsSize:"sm",style:c.editButton},"Редактировать"))),a["default"].createElement(u.Col,null,a["default"].createElement("h2",null,[o,i].join(" ")),a["default"].createElement("p",null,[s,f,d].join(" ")))))};i.contextTypes={userinfo:a["default"].PropTypes.object},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o);r["default"]=function(e){return a["default"].createElement("h1",null,"Welcome")}},{react:"react"}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(n=(u=l.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){return[e,e+"_SUCCESS",e+"_FAIL"]},a="LOGIN",u="LOGIN_SUCCESS",l="LOGIN_FAIL",c="LOGOUT";r.LOGIN=a,r.LOGIN_SUCCESS=u,r.LOGIN_FAIL=l,r.LOGOUT=c;var i="REGISTER",s="REGISTER_SUCCESS",f="REGISTER_FAIL";r.REGISTER=i,r.REGISTER_SUCCESS=s,r.REGISTER_FAIL=f;var d=o("UPLOAD_IMAGE"),p=n(d,3),m=p[0],E=p[1],b=p[2];r.UPLOAD_IMAGE=m,r.UPLOAD_IMAGE_SUCCESS=E,r.UPLOAD_IMAGE_FAIL=b},{}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o),u=e("redux"),l=e("react-redux"),c=e("../actions"),i=e("../components/header.jsx"),s=n(i),f=a["default"].createClass({displayName:"Dashboard",childContextTypes:{accessToken:a["default"].PropTypes.string,refreshToken:a["default"].PropTypes.string,userinfo:a["default"].PropTypes.object,logout:a["default"].PropTypes.func,uploadImage:a["default"].PropTypes.func},getChildContext:function(){var e=this.props.user,t=e.userinfo,r=e.accessToken,n=e.refreshToken;return{userinfo:t,accessToken:r,refreshToken:n,logout:this.props.logout,uploadImage:this.props.uploadImage}},render:function(){return a["default"].createElement("div",null,a["default"].createElement(s["default"],{t:{x:1}}),this.props.children)}}),d=function(e){return{user:e.user}},p=function(e){return(0,u.bindActionCreators)({logout:c.logout,uploadImage:c.uploadImage},e)};r["default"]=(0,l.connect)(d,p)(f)},{"../actions":1,"../components/header.jsx":3,react:"react","react-redux":"react-redux",redux:"redux"}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-router"),d=e("react-redux"),p=e("../actions"),m=function(e){function t(){var e,r,n,u;o(this,t);for(var l=arguments.length,c=Array(l),i=0;l>i;i++)c[i]=arguments[i];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),n.props.login(n.refs.email.value,n.refs.password.value)},u=r,a(n,u)}return u(t,e),l(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"login"},i["default"].createElement("div",{className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Login to Onlango"),i["default"].createElement("div",{className:"body"},i["default"].createElement("p",{className:"msg"},"Sign in to start your session"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," Remember Me"),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Sign In"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign in using Google+")),i["default"].createElement(f.Link,{to:"/register",className:"text-center"},"Register a new membership"))))}}]),t}(i["default"].Component);r["default"]=(0,d.connect)(null,function(e){return(0,s.bindActionCreators)({login:p.login},e)})(m)},{"../actions":1,react:"react","react-redux":"react-redux","react-router":"react-router",redux:"redux"}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-router"),d=e("react-redux"),p=e("../actions"),m=function(e){function t(){var e,r,n,u;o(this,t);for(var l=arguments.length,c=Array(l),i=0;l>i;i++)c[i]=arguments[i];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),n.props.register(n.refs.email.value,n.refs.password.value)},u=r,a(n,u)}return u(t,e),l(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"register"},i["default"].createElement("div",{className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Register to Onlango"),i["default"].createElement("div",{className:"body"},i["default"].createElement("p",{className:"msg"},"Register a new membership"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Retype password",ref:"retype"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," I agree to the ",i["default"].createElement("a",{href:"#"},"terms")),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Register"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign up using Google+")),i["default"].createElement(f.Link,{to:"login",className:"text-center"},"I already have a membership"))))}}]),t}(i["default"].Component);r["default"]="undefined"==typeof window?m:(0,d.connect)(null,function(e){return(0,s.bindActionCreators)({register:p.register},e)})(m)},{"../actions":1,react:"react","react-redux":"react-redux","react-router":"react-router",redux:"redux"}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("react"),a=n(o),u=e("react-dom"),l=e("react-redux"),c=e("react-router"),i=e("./store"),s=n(i),f=e("./routes"),d=n(f);(0,u.render)(a["default"].createElement(l.Provider,{store:s["default"]},a["default"].createElement(c.Router,{routes:(0,d["default"])(s["default"]),history:c.browserHistory})),document.querySelector("#app"))},{"./routes":13,"./store":14,react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],12:[function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=e("redux"),l=e("redux-actions"),c=e("react-router"),i=e("../constants"),s=function(e){var t=e.userinfo,r=e.accessToken,n=e.refreshToken;localStorage.setItem("userinfo",JSON.stringify(t)),localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)},f=function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userinfo")},d={start:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),a({},e,{lock:!0})},success:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),s(t.payload),setTimeout(function(){c.browserHistory.push("/")},100),a({},e,{lock:!1},t.payload)},fail:function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log(e),f(),{lock:!1}},logout:function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log("do logout",e),f(),c.browserHistory.push("/login"),{}}},p=(0,l.handleActions)((o={},n(o,i.LOGIN,d.start),n(o,i.LOGIN_SUCCESS,d.success),n(o,i.LOGIN_FAIL,d.fail),n(o,i.REGISTER,d.start),n(o,i.REGISTER_SUCCESS,d.success),n(o,i.REGISTER_FAIL,d.fail),n(o,i.LOGOUT,d.logout),n(o,i.UPLOAD_IMAGE,function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];arguments[1];return a({},e)}),n(o,i.UPLOAD_IMAGE_SUCCESS,function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return a({},e,{userinfo:a({},e.userinfo,{image:t.payload})})}),n(o,i.UPLOAD_IMAGE_FAIL,function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];arguments[1];return a({},e)}),o),{});r["default"]=(0,u.combineReducers)({user:p})},{"../constants":7,"react-router":"react-router",redux:"redux","redux-actions":"redux-actions"}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./containers/login.jsx"),a=n(o),u=e("./containers/register.jsx"),l=n(u),c=e("./containers/dashboard.jsx"),i=n(c),s=e("./components/welcome.jsx"),f=n(s),d=e("./components/profileView.jsx"),p=n(d),m=e("./components/profileEdit.jsx"),E=n(m),b=e("./components/404.jsx"),g=n(b),y=function(e){return e?function(t,r){var n=e.getState();n.user&&n.user.accessToken||r("/login")}:function(){}};r["default"]=function(e){var t=y(e);return[{path:"/",component:i["default"],onEnter:t,indexRoute:{component:f["default"]},childRoutes:[{path:"profile",component:p["default"]},{path:"profile/edit",component:E["default"]}]},{path:"/login",component:a["default"]},{path:"/register",component:l["default"]},{path:"*",statusCode:404,component:g["default"]}]}},{"./components/404.jsx":2,"./components/profileEdit.jsx":4,"./components/profileView.jsx":5,"./components/welcome.jsx":6,"./containers/dashboard.jsx":8,"./containers/login.jsx":9,"./containers/register.jsx":10}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("redux"),a=e("redux-thunk"),u=n(a),l=e("./reducers"),c=n(l),i={user:"undefined"==typeof localStorage?{}:{userinfo:JSON.parse(localStorage.getItem("userinfo")),accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")}};r["default"]=(0,o.createStore)(c["default"],i,(0,o.compose)((0,o.applyMiddleware)(u["default"]),"undefined"!=typeof window&&window.devToolsExtension?window.devToolsExtension():function(e){return e}))},{"./reducers":12,redux:"redux","redux-thunk":"redux-thunk"}]},{},[11]);
//# sourceMappingURL=bundle.min.js.map
