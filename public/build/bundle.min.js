!function e(t,r,n){function o(l,u){if(!r[l]){if(!t[l]){var c="function"==typeof require&&require;if(!u&&c)return c(l,!0);if(a)return a(l,!0);var i=new Error("Cannot find module '"+l+"'");throw i.code="MODULE_NOT_FOUND",i}var s=r[l]={exports:{}};t[l][0].call(s.exports,function(e){var r=t[l][1][e];return o(r?r:e)},s,s.exports,e,t,r,n)}return r[l].exports}for(var a="function"==typeof require&&require,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("react"),a=n(o),l=e("react-dom"),u=e("react-router"),c=e("./routes.js"),i=n(c);(0,l.render)(a["default"].createElement(u.Router,{routes:i["default"],history:u.browserHistory}),document.querySelector("#app"))},{"./routes.js":6,react:"react","react-dom":"react-dom","react-router":"react-router"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o);r["default"]=function(e){return a["default"].createElement("h1",null,"404 Error Page")}},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=function(e){function t(){var e,r,n,l;o(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.logout=function(e){e.preventDefault(),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n.context.router.push("login")},l=r,a(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",null,i["default"].createElement("h1",null,"Welcome"),i["default"].createElement("a",{href:"##",onClick:this.logout},"logout"))}}]),t}(i["default"].Component);s.propTypes={},s.contextTypes={router:i["default"].PropTypes.object},r["default"]=s},{react:"react"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("react-router"),f=e("jquery"),p=n(f),d=function(e){function t(){var e,r,n,l;o(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),p["default"].ajax({url:"/api/login",method:"POST",data:JSON.stringify({email:n.refs.email.value,password:n.refs.password.value}),contentType:"application/json"}).done(function(e){console.log(e),"accessToken"in e&&localStorage.setItem("accessToken",e.accessToken),"refreshToken"in e&&localStorage.setItem("refreshToken",e.refreshToken),n.context.router.push("/")}).fail(function(e,t,r){console.log(t,r),"Unauthorized"==r&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"))})},l=r,a(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"login-box"},i["default"].createElement("div",{className:"login-logo"},"Login to Onlango"),i["default"].createElement("div",{className:"login-box-body"},i["default"].createElement("p",{className:"login-box-msg"},"Sign in to start your session"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," Remember Me"),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit"},"Sign In"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign in using Google+")),i["default"].createElement(s.Link,{to:"/register",className:"text-center"},"Register a new membership")))}}]),t}(i["default"].Component);d.contextTypes={router:i["default"].PropTypes.object.isRequired},r["default"]=d},{jquery:"jquery",react:"react","react-router":"react-router"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("react-router"),f=e("jquery"),p=n(f),d=function(e){function t(){var e,r,n,l;o(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),p["default"].ajax({url:"/api/register",method:"POST",data:JSON.stringify({email:n.refs.email.value,password:n.refs.password.value}),contentType:"application/json"}).done(function(e){console.log(e),"accessToken"in e&&localStorage.setItem("accessToken",e.accessToken),"refreshToken"in e&&localStorage.setItem("refreshToken",e.refreshToken),n.context.router.push("/")}).fail(function(e,t,r){console.log(t,r),"Unauthorized"==r&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"))})},l=r,a(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"register-box"},i["default"].createElement("div",{className:"register-logo"},"Register to Onlango"),i["default"].createElement("div",{className:"register-box-body"},i["default"].createElement("p",{className:"login-box-msg"},"Register a new membership"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Retype password",ref:"retype"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," I agree to the ",i["default"].createElement("a",{href:"#"},"terms")),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Register"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign up using Google+")),i["default"].createElement(s.Link,{to:"login",className:"text-center"},"I already have a membership")))}}]),t}(i["default"].Component);d.contextTypes={router:i["default"].PropTypes.object.isRequired},r["default"]=d},{jquery:"jquery",react:"react","react-router":"react-router"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=(n(o),e("./jsx/login.jsx")),l=n(a),u=e("./jsx/register.jsx"),c=n(u),i=e("./jsx/dashboard.jsx"),s=n(i),f=e("./jsx/404.jsx"),p=n(f),d=function(e,t){"undefined"!=typeof localStorage&&localStorage.getItem("accessToken")||t("login")};r["default"]=[{path:"/",onEnter:function(){console.log("enter to /")},indexRoute:{component:s["default"],onEnter:function(e,t){console.log("enter to index"),d(e,t)}},childRoutes:[{path:"login",component:l["default"]},{path:"register",component:c["default"]},{path:"dashboard",component:s["default"]}]},{path:"*",statusCode:404,component:p["default"]}]},{"./jsx/404.jsx":2,"./jsx/dashboard.jsx":3,"./jsx/login.jsx":4,"./jsx/register.jsx":5,react:"react"}]},{},[1]);
//# sourceMappingURL=bundle.min.js.map
