!function e(t,r,n){function o(l,u){if(!r[l]){if(!t[l]){var c="function"==typeof require&&require;if(!u&&c)return c(l,!0);if(a)return a(l,!0);var i=new Error("Cannot find module '"+l+"'");throw i.code="MODULE_NOT_FOUND",i}var s=r[l]={exports:{}};t[l][0].call(s.exports,function(e){var r=t[l][1][e];return o(r?r:e)},s,s.exports,e,t,r,n)}return r[l].exports}for(var a="function"==typeof require&&require,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.getUserinfo=r.uploadUserinfo=r.uploadImage=r.login=r.logout=void 0;var o=e("redux-actions"),a=e("../constants"),l=e("superagent"),u=n(l);r.logout=function(){return function(e){e((0,o.createAction)(a.LOGOUT)())}},r.login=function(e){var t=e.email,r=e.password,n=e.register;return function(e){console.log(a.LOGIN,{email:t,password:r,register:n});var l=(0,o.createAction)(a.LOGIN),c=n?"/api/register":"/api/login";return u["default"].post(c).send({email:t,password:r}).end(function(t,r){e(t?l(t):l(r.body))})}},r.uploadImage=function(e,t){return function(r){var n=(0,o.createAction)(a.UPLOAD_IMAGE);u["default"].post("/api/setuserpic").set("Authorization","Bearer "+t).attach("image",e).end(function(e,t){r(e?n(e):n(t.headers.location))})}},r.uploadUserinfo=function(e,t){return function(r){var n=(0,o.createAction)(a.UPLOAD_USERINFO);u["default"].post("/api/userinfo").set("Authorization","Bearer "+t).send(e).end(function(e,t){r(e?n(e):n(t.body))})}},r.getUserinfo=function(e){return function(t){var r=(0,o.createAction)(a.GET_USERINFO);u["default"].get("/api/userinfo").set("Authorization","Bearer "+e).end(function(e,n){t(e?r(e):r(n.body))})}}},{"../constants":9,"redux-actions":"redux-actions",superagent:"superagent"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o);r["default"]=function(e){return a["default"].createElement("h1",null,"404 Error Page")}},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o),l=e("react-bootstrap"),u=e("react-router-bootstrap"),c={userpic:{width:"48px"}},i=function(e,t){return a["default"].createElement(l.Navbar,null,a["default"].createElement(l.Navbar.Header,null,a["default"].createElement(l.Navbar.Brand,null,"Onlango-react")),a["default"].createElement(l.Nav,{pullRight:!0},a["default"].createElement(l.NavDropdown,{eventKey:1,title:a["default"].createElement(l.Image,{src:t.userinfo.image,circle:!0,style:c.userpic})},a["default"].createElement(u.LinkContainer,{to:"/profile"},a["default"].createElement(l.MenuItem,null,"Профиль")),a["default"].createElement(l.MenuItem,{onClick:t.logout},"Выход"))))};i.contextTypes={userinfo:a["default"].PropTypes.object.isRequired,logout:a["default"].PropTypes.func.isRequired},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),f=n(s),d=e("react-dom"),p=e("react-router"),m=e("react-bootstrap"),y=s.PropTypes.func,h=s.PropTypes.object,b=function(e){function t(){var e,r,n,l;o(this,t);for(var u=arguments.length,i=Array(u),s=0;u>s;s++)i[s]=arguments[s];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={login:null},n.ref=function(e){if(e){var t=(0,d.findDOMNode)(e);n[t.name]=t}},n.submit=function(e){e.preventDefault();var t=["email","password"].map(function(e){return n[e].value}),r=c(t,2),o=r[0],a=r[1];n.context.login({email:o,password:a})},n.change=function(){n.state.login&&n.setState({login:null})},l=r,a(n,l)}return l(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e,t){t.error&&this.setState({login:{validationState:"error"}})}},{key:"render",value:function(){return f["default"].createElement("div",null,f["default"].createElement("p",{className:"msg"},"Sign in to start your session"),f["default"].createElement(m.Form,{className:"login",onSubmit:this.submit,onChange:this.change},f["default"].createElement(m.FormGroup,u({controlId:"email"},this.state.login),f["default"].createElement(m.FormControl,{type:"email",name:"email",placeholder:"Email",ref:this.ref})),f["default"].createElement(m.FormGroup,u({controlId:"password"},this.state.login),f["default"].createElement(m.FormControl,{type:"password",name:"password",placeholder:"Password",ref:this.ref})),f["default"].createElement(m.FormGroup,null,f["default"].createElement(m.Col,null,f["default"].createElement(m.Button,{type:"submit",block:!0},"Sign in")))),f["default"].createElement(p.Link,{to:"/register",className:"text-center"},"Register a new membership"))}}]),t}(s.Component);b.contextTypes={login:y,error:h},r["default"]=b},{react:"react","react-bootstrap":"react-bootstrap","react-dom":"react-dom","react-router":"react-router"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=e("react"),d=n(f),p=e("react-dom"),m=e("react-bootstrap"),y=e("react-dropzone"),h=n(y),b=function(e){function t(){var e,r,n,o;a(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=l(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={days:Array.apply(null,Array(31)).map(function(e,t){return t+1}),months:"Январь,Февраль,Март,Апрель,Май,Июнь,Июль,Август,Сентябрь,Ноябрь,Декабрь".split(","),years:Array.apply(null,Array(100)).map(function(e,t){return t+1930}),selected:n.props.date?{day:n.props.date.getDate(),month:n.props.date.getMonth(),year:n.props.date.getFullYear()}:{day:-1,month:-1,year:-1},date:n.props.date},n.composeDays=function(e,t){var r=new Date(t,e+1,0).getDate();n.setState({days:Array.apply(null,Array(r)).map(function(e,t){return t+1})})},n.change=function(e){var t=+n.day.value,r=void 0===t?1:t,o=+n.month.value,a=void 0===o?0:o,l=+n.year.value,u=void 0===l?2e3:l,c={day:r,month:a,year:u};n.composeDays(a,u),n.setState({selected:c,date:new Date(u,a,r)})},o=r,l(n,o)}return u(t,e),s(t,[{key:"render",value:function(){var e=this,t=d["default"].createElement("option",{disabled:!0,value:"-1"},"-");return d["default"].createElement(m.Col,{sm:6},d["default"].createElement(m.FormGroup,{onChange:this.change},d["default"].createElement(m.ControlLabel,null,"Дата рождения"),d["default"].createElement(m.Row,null,d["default"].createElement(m.Col,{sm:3},d["default"].createElement(m.FormControl,{id:"day",componentClass:"select",ref:function(t){return e.day=(0,p.findDOMNode)(t)},defaultValue:this.state.selected.day||-1},t,this.state.days.map(function(e,t){return d["default"].createElement("option",{key:t,value:e},e)}))),d["default"].createElement(m.Col,{sm:5},d["default"].createElement(m.FormControl,{id:"mounth",componentClass:"select",ref:function(t){return e.month=(0,p.findDOMNode)(t)},defaultValue:this.state.selected.month||-1},t,this.state.months.map(function(e,t){return d["default"].createElement("option",{key:t,value:t},e)}))),d["default"].createElement(m.Col,{sm:4},d["default"].createElement(m.FormControl,{id:"year",componentClass:"select",ref:function(t){return e.year=(0,p.findDOMNode)(t)},defaultValue:this.state.selected.year||-1},t,this.state.years.map(function(e,t){return d["default"].createElement("option",{key:t,value:e},e)}))))),d["default"].createElement("input",{type:"text",name:"date",value:this.state.date||"",hidden:!0,readOnly:!0}))}}]),t}(d["default"].Component),v=function(e){var t=e.id,r=e.type,n=e.label,o=e.placeholder,a=e.s;return function(e){return d["default"].createElement(m.Col,{sm:a||6},d["default"].createElement(m.FormGroup,{controlId:t},d["default"].createElement(m.ControlLabel,null,n),d["default"].createElement(m.FormControl,{type:r||"text",name:t,placeholder:o||n,defaultValue:e.val})))}},g={name:v({id:"name",label:"Имя"}),surname:v({id:"surname",label:"Фамилия"}),email:v({id:"email",type:"email",label:"Email"}),phone:v({id:"phone",type:"tel",label:"Телефон"}),country:v({id:"country",label:"Страна"}),city:v({id:"city",label:"Город"}),interests:v({id:"interests",label:"Интересы",s:12}),gender:function(e){return d["default"].createElement(m.Col,{sm:6},d["default"].createElement(m.FormGroup,{controlId:"gender"},d["default"].createElement(m.ControlLabel,null,"Пол"),d["default"].createElement(m.FormControl,{componentClass:"select",name:"gender",defaultValue:"none"},d["default"].createElement("option",{disabled:!0,value:"none"},"-"),d["default"].createElement("option",{value:"male"},"Мужской"),d["default"].createElement("option",{value:"female"},"Женский"))))},save:function(e){return d["default"].createElement(m.Col,{sm:3},d["default"].createElement(m.Button,{bsStyle:"primary",type:"submit",form:e.form,block:!0,className:"save"},"Сохранить"))},birthdate:b},E=function(e){function t(){var e,r,n,u;a(this,t);for(var s=arguments.length,f=Array(s),d=0;s>d;d++)f[d]=arguments[d];return r=n=l(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),n.drop=function(e){var t=i(e,1),r=t[0];n.context.uploadImage(r,n.context.accessToken)},n.open=function(e){n.refs.dropzone.open()},n.submit=function(e){e.preventDefault();var t=Array.from(new FormData(n.form)).filter(function(e){return e[1]}).reduce(function(e,t){return c({},e,o({},t[0],t[1]))},{});n.context.uploadUserinfo(t,n.context.accessToken)},n.change=function(e){},u=r,l(n,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this,t="userinfoEdit",r={userpic:{margin:"2rem"}},n=this.context.userinfo,o=n.image,a=n.name,l=n.surname,u=n.country,c=n.city,i=n.birthdate,s=n.email,f=n.phone,y=n.gender,b=n.interests;return d["default"].createElement(h["default"],{ref:"dropzone",onDrop:this.drop,multiple:!1,disableClick:!0,className:"profile edit navbar-default dropzone container",activeClassName:"drop-hovered"},d["default"].createElement("div",{className:"overlay"}),d["default"].createElement(m.Row,null,d["default"].createElement(m.Col,{md:10,mdOffset:1},d["default"].createElement(m.Row,null,d["default"].createElement(m.Image,{src:o,style:r.userpic,circle:!0}),d["default"].createElement(m.Button,{bsStyle:"primary",onClick:this.open},"Загрузить фото")),d["default"].createElement(m.Form,{onChange:this.change,onSubmit:this.submit,id:t,ref:function(t){return e.form=(0,p.findDOMNode)(t)}},d["default"].createElement(m.Row,null,d["default"].createElement(g.name,{val:a}),d["default"].createElement(g.email,{val:s})),d["default"].createElement(m.Row,null,d["default"].createElement(g.surname,{val:l}),d["default"].createElement(g.phone,{val:f})),d["default"].createElement(m.Row,null,d["default"].createElement(g.gender,{val:y}),d["default"].createElement(g.country,{val:u})),d["default"].createElement(m.Row,null,d["default"].createElement(g.birthdate,{val:i}),d["default"].createElement(g.city,{val:c})),d["default"].createElement(m.Row,null,d["default"].createElement(g.interests,{val:(b||[]).join(", ")})),d["default"].createElement(m.Row,null,d["default"].createElement(g.save,{form:t}))))))}}]),t}(d["default"].Component);E.contextTypes={userinfo:d["default"].PropTypes.object,uploadImage:d["default"].PropTypes.func,uploadUserinfo:d["default"].PropTypes.func,accessToken:d["default"].PropTypes.string},r["default"]=E},{react:"react","react-bootstrap":"react-bootstrap","react-dom":"react-dom","react-dropzone":"react-dropzone"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o),l=e("react-bootstrap"),u=e("react-router-bootstrap"),c={editButton:{marginTop:"2rem"}},i=function(e,t){var r=t.userinfo,n=r.image,o=r.name,i=r.surname,s=r.country,f=r.city,d=r.birthdate;return a["default"].createElement(l.Grid,{className:"profile"},a["default"].createElement(l.Row,null,a["default"].createElement(l.Col,{sm:3,className:"text-center"},a["default"].createElement(l.Image,{src:n,circle:!0,className:"center-block"}),a["default"].createElement(u.LinkContainer,{to:"/profile/edit"},a["default"].createElement(l.Button,{bsStyle:"primary",bsSize:"sm",style:c.editButton},"Редактировать"))),a["default"].createElement(l.Col,{sm:4},a["default"].createElement("h2",null,[o,i].join(" ")),a["default"].createElement("p",null,a["default"].createElement(l.Glyphicon,{glyph:"map-marker"})," ",[s,f,d].filter(function(e){return e}).join(", ")))))};i.contextTypes={userinfo:a["default"].PropTypes.object},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),f=n(s),d=e("react-dom"),p=e("react-router"),m=e("react-bootstrap"),y=s.PropTypes.func,h=s.PropTypes.object,b=function(e){function t(){var e,r,n,l;o(this,t);for(var u=arguments.length,i=Array(u),s=0;u>s;s++)i[s]=arguments[s];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={login:null,retype:null},n.ref=function(e){if(e){var t=(0,d.findDOMNode)(e);n[t.name]=t}},n.submit=function(e){e.preventDefault();var t=["email","password","retype"].map(function(e){return n[e].value}),r=c(t,2),o=r[0],a=r[1];n.context.login({email:o,password:a,register:!0})},n.change=function(e){n.state.login&&n.setState({login:null}),n.retype.value!=n.password.value?n.setState({retype:{validationState:"error"}}):n.setState({retype:null})},l=r,a(n,l)}return l(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e,t){t.error&&this.setState({login:{validationState:"error"}})}},{key:"render",value:function(){return f["default"].createElement("div",null,f["default"].createElement("p",{className:"msg"},"Register a new membership"),f["default"].createElement(m.Form,{className:"login",onSubmit:this.submit,onChange:this.change},f["default"].createElement(m.FormGroup,u({controlId:"email"},this.state.login),f["default"].createElement(m.FormControl,{type:"email",name:"email",placeholder:"Email",ref:this.ref}),f["default"].createElement(m.FormControl.Feedback,null)),f["default"].createElement(m.FormGroup,u({controlId:"password"},this.state.login),f["default"].createElement(m.FormControl,{type:"password",name:"password",placeholder:"Password",ref:this.ref}),f["default"].createElement(m.FormControl.Feedback,null)),f["default"].createElement(m.FormGroup,u({controlId:"password"},this.state.retype),f["default"].createElement(m.FormControl,{type:"password",name:"retype",placeholder:"Retype password",ref:this.ref}),f["default"].createElement(m.FormControl.Feedback,null)),f["default"].createElement(m.FormGroup,null,f["default"].createElement(m.Checkbox,null,"I agree to the ",f["default"].createElement("a",{href:"#"},"terms"))),f["default"].createElement(m.FormGroup,null,f["default"].createElement(m.Col,null,f["default"].createElement(m.Button,{type:"submit",block:!0},"Sign in")))),f["default"].createElement(p.Link,{to:"login",className:"text-center"},"I already have a membership"))}}]),t}(s.Component);b.contextTypes={login:y,error:h},r["default"]=b},{react:"react","react-bootstrap":"react-bootstrap","react-dom":"react-dom","react-router":"react-router"}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("react"),a=n(o);r["default"]=function(e){return a["default"].createElement("h1",null,"Welcome")}},{react:"react"}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="LOGIN",o="LOGOUT";r.LOGIN=n,r.LOGOUT=o;var a="UPLOAD_IMAGE",l="UPLOAD_USERINFO";r.UPLOAD_IMAGE=a,r.UPLOAD_USERINFO=l;var u="GET_USERINFO";r.GET_USERINFO=u},{}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",null,this.props.children)}}]),t}(c.Component);r["default"]=s},{react:"react"}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-redux"),d=e("../actions"),p=e("../components/header.jsx"),m=n(p),y=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"getChildContext",value:function(){var e=this.props.user,t=e.userinfo,r=e.accessToken,n=e.refreshToken;return{userinfo:t,accessToken:r,refreshToken:n,logout:this.props.logout,uploadImage:this.props.uploadImage,uploadUserinfo:this.props.uploadUserinfo,getUserinfo:this.props.getUserinfo}}},{key:"componentWillMount",value:function(){this.props.getUserinfo(this.props.user.accessToken)}},{key:"render",value:function(){return i["default"].createElement("div",null,i["default"].createElement(m["default"],null),this.props.children)}}]),t}(i["default"].Component);y.childContextTypes={accessToken:i["default"].PropTypes.string,refreshToken:i["default"].PropTypes.string,userinfo:i["default"].PropTypes.object,logout:i["default"].PropTypes.func,uploadImage:i["default"].PropTypes.func,uploadUserinfo:i["default"].PropTypes.func,getUserinfo:i["default"].PropTypes.func};var h=function(e){return{user:e.user}},b=function(e){return(0,s.bindActionCreators)({logout:d.logout,uploadImage:d.uploadImage,uploadUserinfo:d.uploadUserinfo,getUserinfo:d.getUserinfo},e)};r["default"]=(0,f.connect)(h,b)(y)},{"../actions":1,"../components/header.jsx":3,react:"react","react-redux":"react-redux",redux:"redux"}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-redux"),d=e("react-bootstrap"),p=e("../actions"),m=c.PropTypes.func,y=c.PropTypes.object,h=function(e){function t(){var e,r,n,l;o(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.getChildContext=function(){return{login:n.props.login,error:n.props.user.error}},l=r,a(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement(d.Grid,{className:"vertical-center entrance"},i["default"].createElement(d.Col,{md:4,mdOffset:4,sm:6,smOffset:3,xs:10,xsOffset:1,className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Login to Onlango"),this.props.children,i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign in using Google+"))))}}]),t}(c.Component);h.childContextTypes={login:m,error:y},r["default"]=(0,f.connect)(function(e){return{user:e.user}},function(e){return(0,s.bindActionCreators)({login:p.login},e)})(h)},{"../actions":1,react:"react","react-bootstrap":"react-bootstrap","react-redux":"react-redux",redux:"redux"}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("react"),a=n(o),l=e("react-dom"),u=e("react-redux"),c=e("react-router"),i=e("./store"),s=n(i),f=e("./routes"),d=n(f);(0,l.render)(a["default"].createElement(u.Provider,{store:s["default"]},a["default"].createElement(c.Router,{routes:(0,d["default"])(s["default"]),history:c.browserHistory})),document.querySelector("#app"))},{"./routes":15,"./store":16,react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],14:[function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=e("redux"),u=e("redux-actions"),c=e("react-router"),i=e("../constants"),s=function(e){var t=e.userinfo,r=e.accessToken,n=e.refreshToken;localStorage.setItem("userinfo",JSON.stringify(t)),localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)},f=function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userinfo")},d=(0,u.handleActions)((o={},n(o,i.LOGIN,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),s(t.payload),setTimeout(function(){c.browserHistory.push("/")},100),a({},e,t.payload)},"throw":function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log(e),f(),{error:e.payload}}}),n(o,i.LOGOUT,function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log("do logout",e),f(),c.browserHistory.push("/login"),{}}),n(o,i.UPLOAD_IMAGE,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1],r=a({},e.userinfo,{image:t.payload});return localStorage.setItem("userinfo",JSON.stringify(r)),a({},e,{userinfo:r})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),e}}),n(o,i.UPLOAD_USERINFO,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),c.browserHistory.push("/profile"),a({},e,{userinfo:a({},e.userinfo,t.payload)})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),e}}),n(o,i.GET_USERINFO,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),a({},e,{userinfo:a({},e.userinfo,t.payload)})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),e}}),o),{});r["default"]=(0,l.combineReducers)({user:d})},{"../constants":9,"react-router":"react-router",redux:"redux","redux-actions":"redux-actions"}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./containers/app.jsx"),a=n(o),l=e("./containers/entrance.jsx"),u=n(l),c=e("./components/login.jsx"),i=n(c),s=e("./components/register.jsx"),f=n(s),d=e("./containers/dashboard.jsx"),p=n(d),m=e("./components/welcome.jsx"),y=n(m),h=e("./components/profileView.jsx"),b=n(h),v=e("./components/profileEdit.jsx"),g=n(v),E=e("./components/404.jsx"),O=n(E),w=function(e){return function(t,r){console.log(t);var n=e.getState();n.user&&n.user.accessToken||r("/login")}};r["default"]=function(e){var t=w(e);return[{path:"/",component:a["default"],indexRoute:{component:p["default"],onEnter:t},childRoutes:[{path:"login",component:u["default"],indexRoute:{component:i["default"]}},{component:u["default"],childRoutes:[{path:"register",component:f["default"]}]},{component:p["default"],indexRoute:y["default"],childRoutes:[{path:"profile",component:b["default"]},{path:"profile/edit",component:g["default"]}]}]},{path:"*",statusCode:404,component:O["default"]}]}},{"./components/404.jsx":2,"./components/login.jsx":4,"./components/profileEdit.jsx":5,"./components/profileView.jsx":6,"./components/register.jsx":7,"./components/welcome.jsx":8,"./containers/app.jsx":10,"./containers/dashboard.jsx":11,"./containers/entrance.jsx":12}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("redux"),a=e("redux-thunk"),l=n(a),u=e("./reducers"),c=n(u),i={user:{userinfo:JSON.parse(localStorage.getItem("userinfo")),accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")}};r["default"]=(0,o.createStore)(c["default"],i,(0,o.compose)((0,o.applyMiddleware)(l["default"]),"undefined"!=typeof window&&window.devToolsExtension?window.devToolsExtension():function(e){return e}))},{"./reducers":14,redux:"redux","redux-thunk":"redux-thunk"}]},{},[13]);
//# sourceMappingURL=bundle.min.js.map
