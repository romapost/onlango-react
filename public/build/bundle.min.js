!function e(t,r,n){function a(l,u){if(!r[l]){if(!t[l]){var c="function"==typeof require&&require;if(!u&&c)return c(l,!0);if(o)return o(l,!0);var i=new Error("Cannot find module '"+l+"'");throw i.code="MODULE_NOT_FOUND",i}var s=r[l]={exports:{}};t[l][0].call(s.exports,function(e){var r=t[l][1][e];return a(r?r:e)},s,s.exports,e,t,r,n)}return r[l].exports}for(var o="function"==typeof require&&require,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.getUserinfo=r.uploadUserinfo=r.uploadImage=r.logout=r.register=r.login=void 0;var a=e("redux-actions"),o=e("../constants"),l=e("superagent"),u=n(l),c=function(e,t){var r=(0,a.createAction)(t);return function(t,n){return function(a){u["default"].post(e).send({email:t,password:n}).end(function(e,t){a(e?r(e):r(t.body))})}}};r.login=c("/api/login",o.LOGIN),r.register=c("/api/register",o.REGISTER),r.logout=function(){return function(e){e((0,a.createAction)(o.LOGOUT)())}},r.uploadImage=function(e,t){return function(r){var n=(0,a.createAction)(o.UPLOAD_IMAGE);u["default"].post("/api/setuserpic").set("Authorization","Bearer "+t).attach("image",e).end(function(e,t){r(e?n(e):n(t.headers.location))})}},r.uploadUserinfo=function(e,t){return function(r){var n=(0,a.createAction)(o.UPLOAD_USERINFO);u["default"].post("/api/userinfo").set("Authorization","Bearer "+t).send(e).end(function(e,t){r(e?n(e):n(t.body))})}},r.getUserinfo=function(e){return function(t){var r=(0,a.createAction)(o.GET_USERINFO);u["default"].get("/api/userinfo").set("Authorization","Bearer "+e).end(function(e,n){t(e?r(e):r(n.body))})}}},{"../constants":7,"redux-actions":"redux-actions",superagent:"superagent"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a);r["default"]=function(e){return o["default"].createElement("h1",null,"404 Error Page")}},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a),l=e("react-bootstrap"),u=e("react-router-bootstrap"),c={userpic:{width:"48px"}},i=function(e,t){return o["default"].createElement(l.Navbar,null,o["default"].createElement(l.Navbar.Header,null,o["default"].createElement(l.Navbar.Brand,null,"Onlango-react")),o["default"].createElement(l.Nav,{pullRight:!0},o["default"].createElement(l.NavDropdown,{eventKey:1,id:"nav-dropdown-profile",title:o["default"].createElement(l.Image,{src:t.userinfo.image,circle:!0,style:c.userpic})},o["default"].createElement(u.LinkContainer,{to:"/profile"},o["default"].createElement(l.MenuItem,null,"Профиль")),o["default"].createElement(l.MenuItem,{onClick:t.logout},"Выход"))))};i.contextTypes={userinfo:o["default"].PropTypes.object,logout:o["default"].PropTypes.func},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=e("react"),d=n(f),p=e("react-dom"),m=e("react-bootstrap"),y=e("react-dropzone"),b=n(y),h=function(e){function t(){var e,r,n,a;o(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=l(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={days:Array.apply(null,Array(31)).map(function(e,t){return t+1}),months:"Январь,Февраль,Март,Апрель,Май,Июнь,Июль,Август,Сентябрь,Ноябрь,Декабрь".split(","),years:Array.apply(null,Array(100)).map(function(e,t){return t+1930}),selected:n.props.date?{day:n.props.date.getDate(),month:n.props.date.getMonth(),year:n.props.date.getFullYear()}:{day:-1,month:-1,year:-1},date:n.props.date},n.composeDays=function(e,t){var r=new Date(t,e+1,0).getDate();n.setState({days:Array.apply(null,Array(r)).map(function(e,t){return t+1})})},n.change=function(e){var t=+n.day.value,r=void 0===t?1:t,a=+n.month.value,o=void 0===a?0:a,l=+n.year.value,u=void 0===l?2e3:l,c={day:r,month:o,year:u};n.composeDays(o,u),n.setState({selected:c,date:new Date(u,o,r)})},a=r,l(n,a)}return u(t,e),s(t,[{key:"render",value:function(){var e=this,t=d["default"].createElement("option",{disabled:!0,value:"-1"},"-");return d["default"].createElement(m.Col,{sm:6},d["default"].createElement(m.FormGroup,{onChange:this.change},d["default"].createElement(m.ControlLabel,null,"Дата рождения"),d["default"].createElement(m.Row,null,d["default"].createElement(m.Col,{sm:3},d["default"].createElement(m.FormControl,{id:"day",componentClass:"select",ref:function(t){return e.day=(0,p.findDOMNode)(t)},defaultValue:this.state.selected.day||-1},t,this.state.days.map(function(e,t){return d["default"].createElement("option",{key:t,value:e},e)}))),d["default"].createElement(m.Col,{sm:5},d["default"].createElement(m.FormControl,{id:"mounth",componentClass:"select",ref:function(t){return e.month=(0,p.findDOMNode)(t)},defaultValue:this.state.selected.month||-1},t,this.state.months.map(function(e,t){return d["default"].createElement("option",{key:t,value:t},e)}))),d["default"].createElement(m.Col,{sm:4},d["default"].createElement(m.FormControl,{id:"year",componentClass:"select",ref:function(t){return e.year=(0,p.findDOMNode)(t)},defaultValue:this.state.selected.year||-1},t,this.state.years.map(function(e,t){return d["default"].createElement("option",{key:t,value:e},e)}))))),d["default"].createElement("input",{type:"text",name:"date",value:this.state.date||"",hidden:!0,readOnly:!0}))}}]),t}(d["default"].Component),v=function(e){var t=e.id,r=e.type,n=e.label,a=e.placeholder,o=e.s;return function(e){return d["default"].createElement(m.Col,{sm:o||6},d["default"].createElement(m.FormGroup,{controlId:t},d["default"].createElement(m.ControlLabel,null,n),d["default"].createElement(m.FormControl,{type:r||"text",name:t,placeholder:a||n,defaultValue:e.val})))}},g={name:v({id:"name",label:"Имя"}),surname:v({id:"surname",label:"Фамилия"}),email:v({id:"email",type:"email",label:"Email"}),phone:v({id:"phone",type:"tel",label:"Телефон"}),country:v({id:"country",label:"Страна"}),city:v({id:"city",label:"Город"}),interests:v({id:"interests",label:"Интересы",s:12}),gender:function(e){return d["default"].createElement(m.Col,{sm:6},d["default"].createElement(m.FormGroup,{controlId:"gender"},d["default"].createElement(m.ControlLabel,null,"Пол"),d["default"].createElement(m.FormControl,{componentClass:"select",name:"gender",defaultValue:"none"},d["default"].createElement("option",{disabled:!0,value:"none"},"-"),d["default"].createElement("option",{value:"male"},"Мужской"),d["default"].createElement("option",{value:"female"},"Женский"))))},save:function(e){return d["default"].createElement(m.Col,{sm:3},d["default"].createElement(m.Button,{bsStyle:"primary",type:"submit",form:e.form,block:!0,className:"save"},"Сохранить"))},birthdate:h},E=function(e){function t(){var e,r,n,u;o(this,t);for(var s=arguments.length,f=Array(s),d=0;s>d;d++)f[d]=arguments[d];return r=n=l(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),n.drop=function(e){var t=i(e,1),r=t[0];n.context.uploadImage(r,n.context.accessToken)},n.open=function(e){n.refs.dropzone.open()},n.submit=function(e){e.preventDefault();var t=Array.from(new FormData(n.form)).filter(function(e){return e[1]}).reduce(function(e,t){return c({},e,a({},t[0],t[1]))},{});n.context.uploadUserinfo(t,n.context.accessToken)},n.change=function(e){},u=r,l(n,u)}return u(t,e),s(t,[{key:"render",value:function(){var e=this,t="userinfoEdit",r={userpic:{margin:"2rem"}},n=this.context.userinfo,a=n.image,o=n.name,l=n.surname,u=n.country,c=n.city,i=n.birthdate,s=n.email,f=n.phone,y=n.gender,h=n.interests;return d["default"].createElement(b["default"],{ref:"dropzone",onDrop:this.drop,multiple:!1,disableClick:!0,className:"profile edit navbar-default dropzone container",activeClassName:"drop-hovered"},d["default"].createElement("div",{className:"overlay"}),d["default"].createElement(m.Row,null,d["default"].createElement(m.Col,{md:10,mdOffset:1},d["default"].createElement(m.Row,null,d["default"].createElement(m.Image,{src:a,style:r.userpic,circle:!0}),d["default"].createElement(m.Button,{bsStyle:"primary",onClick:this.open},"Загрузить фото")),d["default"].createElement(m.Form,{onChange:this.change,onSubmit:this.submit,id:t,ref:function(t){return e.form=(0,p.findDOMNode)(t)}},d["default"].createElement(m.Row,null,d["default"].createElement(g.name,{val:o}),d["default"].createElement(g.email,{val:s})),d["default"].createElement(m.Row,null,d["default"].createElement(g.surname,{val:l}),d["default"].createElement(g.phone,{val:f})),d["default"].createElement(m.Row,null,d["default"].createElement(g.gender,{val:y}),d["default"].createElement(g.country,{val:u})),d["default"].createElement(m.Row,null,d["default"].createElement(g.birthdate,{val:i}),d["default"].createElement(g.city,{val:c})),d["default"].createElement(m.Row,null,d["default"].createElement(g.interests,{val:(h||[]).join(", ")})),d["default"].createElement(m.Row,null,d["default"].createElement(g.save,{form:t}))))))}}]),t}(d["default"].Component);E.contextTypes={userinfo:d["default"].PropTypes.object,uploadImage:d["default"].PropTypes.func,uploadUserinfo:d["default"].PropTypes.func,accessToken:d["default"].PropTypes.string},r["default"]=E},{react:"react","react-bootstrap":"react-bootstrap","react-dom":"react-dom","react-dropzone":"react-dropzone"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a),l=e("react-bootstrap"),u=e("react-router-bootstrap"),c={editButton:{marginTop:"2rem"}},i=function(e,t){var r=t.userinfo,n=r.image,a=r.name,i=r.surname,s=r.country,f=r.city,d=r.birthdate;return o["default"].createElement(l.Grid,{className:"profile"},o["default"].createElement(l.Row,null,o["default"].createElement(l.Col,{xs:3,className:"text-center"},o["default"].createElement(l.Image,{src:n,circle:!0,className:"center-block"}),o["default"].createElement(u.LinkContainer,{to:"/profile/edit"},o["default"].createElement(l.Button,{bsStyle:"info",bsSize:"sm",style:c.editButton},"Редактировать"))),o["default"].createElement(l.Col,null,o["default"].createElement("h2",null,[a,i].join(" ")),o["default"].createElement("p",null,[s,f,d].join(" ")))))};i.contextTypes={userinfo:o["default"].PropTypes.object},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a);r["default"]=function(e){return o["default"].createElement("h1",null,"Welcome")}},{react:"react"}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="LOGIN",a="REGISTER",o="LOGOUT";r.LOGIN=n,r.REGISTER=a,r.LOGOUT=o;var l="UPLOAD_IMAGE",u="UPLOAD_USERINFO";r.UPLOAD_IMAGE=l,r.UPLOAD_USERINFO=u;var c="GET_USERINFO";r.GET_USERINFO=c},{}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-redux"),d=e("../actions"),p=e("../components/header.jsx"),m=n(p),y=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"getChildContext",value:function(){var e=this.props.user,t=e.userinfo,r=e.accessToken,n=e.refreshToken;return{userinfo:t,accessToken:r,refreshToken:n,logout:this.props.logout,uploadImage:this.props.uploadImage,uploadUserinfo:this.props.uploadUserinfo,getUserinfo:this.props.getUserinfo}}},{key:"componentWillMount",value:function(){this.props.getUserinfo(this.props.user.accessToken)}},{key:"render",value:function(){return i["default"].createElement("div",null,i["default"].createElement(m["default"],null),this.props.children)}}]),t}(i["default"].Component);y.childContextTypes={accessToken:i["default"].PropTypes.string,refreshToken:i["default"].PropTypes.string,userinfo:i["default"].PropTypes.object,logout:i["default"].PropTypes.func,uploadImage:i["default"].PropTypes.func,uploadUserinfo:i["default"].PropTypes.func,getUserinfo:i["default"].PropTypes.func};var b=function(e){return{user:e.user}},h=function(e){return(0,s.bindActionCreators)({logout:d.logout,uploadImage:d.uploadImage,uploadUserinfo:d.uploadUserinfo,getUserinfo:d.getUserinfo},e)};r["default"]=(0,f.connect)(b,h)(y)},{"../actions":1,"../components/header.jsx":3,react:"react","react-redux":"react-redux",redux:"redux"}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-router"),d=e("react-redux"),p=e("../actions"),m=function(e){function t(){var e,r,n,l;a(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),n.props.login(n.refs.email.value,n.refs.password.value)},l=r,o(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"login"},i["default"].createElement("div",{className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Login to Onlango"),i["default"].createElement("div",{className:"body"},i["default"].createElement("p",{className:"msg"},"Sign in to start your session"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," Remember Me"),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Sign In"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign in using Google+")),i["default"].createElement(f.Link,{to:"/register",className:"text-center"},"Register a new membership"))))}}]),t}(i["default"].Component);r["default"]=(0,d.connect)(null,function(e){return(0,s.bindActionCreators)({login:p.login},e)})(m)},{"../actions":1,react:"react","react-redux":"react-redux","react-router":"react-router",redux:"redux"}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-router"),d=e("react-redux"),p=e("../actions"),m=function(e){function t(){var e,r,n,l;a(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),n.props.register(n.refs.email.value,n.refs.password.value)},l=r,o(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"register"},i["default"].createElement("div",{className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Register to Onlango"),i["default"].createElement("div",{className:"body"},i["default"].createElement("p",{className:"msg"},"Register a new membership"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Retype password",ref:"retype"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," I agree to the ",i["default"].createElement("a",{href:"#"},"terms")),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Register"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign up using Google+")),i["default"].createElement(f.Link,{to:"login",className:"text-center"},"I already have a membership"))))}}]),t}(i["default"].Component);r["default"]="undefined"==typeof window?m:(0,d.connect)(null,function(e){return(0,s.bindActionCreators)({register:p.register},e)})(m)},{"../actions":1,react:"react","react-redux":"react-redux","react-router":"react-router",redux:"redux"}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=e("react"),o=n(a),l=e("react-dom"),u=e("react-redux"),c=e("react-router"),i=e("./store"),s=n(i),f=e("./routes"),d=n(f);(0,l.render)(o["default"].createElement(u.Provider,{store:s["default"]},o["default"].createElement(c.Router,{routes:(0,d["default"])(s["default"]),history:c.browserHistory})),document.querySelector("#app"))},{"./routes":13,"./store":14,react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],12:[function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=e("redux"),u=e("redux-actions"),c=e("react-router"),i=e("../constants"),s=function(e){var t=e.userinfo,r=e.accessToken,n=e.refreshToken;localStorage.setItem("userinfo",JSON.stringify(t)),localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)},f=function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userinfo")},d={next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),s(t.payload),setTimeout(function(){c.browserHistory.push("/")},100),o({},e,t.payload)},"throw":function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log(e),f(),{}}},p=(0,u.handleActions)((a={},n(a,i.LOGIN,d),n(a,i.REGISTER,d),n(a,i.LOGOUT,function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log("do logout",e),f(),c.browserHistory.push("/login"),{}}),n(a,i.UPLOAD_IMAGE,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1],r=o({},e.userinfo,{image:t.payload});return localStorage.setItem("userinfo",JSON.stringify(r)),o({},e,{userinfo:r})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),e}}),n(a,i.UPLOAD_USERINFO,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),o({},e,{userinfo:o({},e.userinfo,t.payload)})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),e}}),n(a,i.GET_USERINFO,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),o({},e,{userinfo:o({},e.userinfo,t.payload)})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),e}}),a),{});r["default"]=(0,l.combineReducers)({user:p})},{"../constants":7,"react-router":"react-router",redux:"redux","redux-actions":"redux-actions"}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./containers/login.jsx"),o=n(a),l=e("./containers/register.jsx"),u=n(l),c=e("./containers/dashboard.jsx"),i=n(c),s=e("./components/welcome.jsx"),f=n(s),d=e("./components/profileView.jsx"),p=n(d),m=e("./components/profileEdit.jsx"),y=n(m),b=e("./components/404.jsx"),h=n(b),v=function(e){return e?function(t,r){var n=e.getState();n.user&&n.user.accessToken||r("/login")}:function(){}};r["default"]=function(e){var t=v(e);return[{path:"/",component:i["default"],onEnter:t,indexRoute:{component:f["default"]},childRoutes:[{path:"profile",component:p["default"]},{path:"profile/edit",component:y["default"]}]},{path:"/login",component:o["default"]},{path:"/register",component:u["default"]},{path:"*",statusCode:404,component:h["default"]}]}},{"./components/404.jsx":2,"./components/profileEdit.jsx":4,"./components/profileView.jsx":5,"./components/welcome.jsx":6,"./containers/dashboard.jsx":8,"./containers/login.jsx":9,"./containers/register.jsx":10}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("redux"),o=e("redux-thunk"),l=n(o),u=e("./reducers"),c=n(u),i={user:"undefined"==typeof localStorage?{}:{userinfo:JSON.parse(localStorage.getItem("userinfo")),accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")}};r["default"]=(0,a.createStore)(c["default"],i,(0,a.compose)((0,a.applyMiddleware)(l["default"]),"undefined"!=typeof window&&window.devToolsExtension?window.devToolsExtension():function(e){return e}))},{"./reducers":12,redux:"redux","redux-thunk":"redux-thunk"}]},{},[11]);
//# sourceMappingURL=bundle.min.js.map
