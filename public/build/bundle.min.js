!function e(t,r,n){function a(l,u){if(!r[l]){if(!t[l]){var c="function"==typeof require&&require;if(!u&&c)return c(l,!0);if(o)return o(l,!0);var i=new Error("Cannot find module '"+l+"'");throw i.code="MODULE_NOT_FOUND",i}var s=r[l]={exports:{}};t[l][0].call(s.exports,function(e){var r=t[l][1][e];return a(r?r:e)},s,s.exports,e,t,r,n)}return r[l].exports}for(var o="function"==typeof require&&require,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.uploadImage=r.logout=r.register=r.login=void 0;var a=e("redux-actions"),o=e("../constants"),l=e("superagent"),u=n(l),c=function(e,t){var r=(0,a.createAction)(t);return function(t,n){return function(a){u["default"].post(e).send({email:t,password:n}).end(function(e,t){a(e?r(e):r(t.body))})}}};r.login=c("/api/login",o.LOGIN),r.register=c("/api/register",o.REGISTER),r.logout=function(){return function(e){e((0,a.createAction)(o.LOGOUT)())}},r.uploadImage=function(e,t){return function(r){var n=(0,a.createAction)(o.UPLOAD_IMAGE);u["default"].post("/api/setuserpic").set("Authorization","Bearer "+t).attach("image",e).end(function(e,t){r(e?n(e):n(t.headers.location))})}}},{"../constants":7,"redux-actions":"redux-actions",superagent:"superagent"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a);r["default"]=function(e){return o["default"].createElement("h1",null,"404 Error Page")}},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a),l=e("react-bootstrap"),u=e("react-router-bootstrap"),c={userpic:{width:"48px"}},i=function(e,t){return o["default"].createElement(l.Navbar,null,o["default"].createElement(l.Navbar.Header,null,o["default"].createElement(l.Navbar.Brand,null,"Onlango-react")),o["default"].createElement(l.Nav,{pullRight:!0},o["default"].createElement(l.NavDropdown,{eventKey:1,id:"nav-dropdown-profile",title:o["default"].createElement(l.Image,{src:t.userinfo.image,circle:!0,style:c.userpic})},o["default"].createElement(u.LinkContainer,{to:"/profile"},o["default"].createElement(l.MenuItem,null,"Профиль")),o["default"].createElement(l.MenuItem,{onClick:t.logout},"Выход"))))};i.contextTypes={userinfo:o["default"].PropTypes.object,logout:o["default"].PropTypes.func},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("react"),s=n(i),f=e("react-bootstrap"),d=e("react-dropzone"),p=n(d),m=function(e){function t(){var e,r,n,l;a(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state={days:Array.apply(null,Array(31)).map(function(e,t){return t+1}),mounth:"Январь,Февраль,Март,Апрель,Май,Июнь,Июль,Август,Сентябрь,Ноябрь,Декабрь".split(","),years:Array.apply(null,Array(80)).map(function(e,t){return t+1930}),selected:{mounth:0,day:0,year:70}},l=r,o(n,l)}return l(t,e),c(t,[{key:"render",value:function(){return s["default"].createElement(f.Col,{sm:6},s["default"].createElement(f.ControlLabel,null,"Дата рождения"),s["default"].createElement(f.Row,null,s["default"].createElement(f.Col,{xs:3},s["default"].createElement(f.FormControl,{componentClass:"select"},this.state.days.map(function(e,t){return s["default"].createElement("option",{key:t,value:t},e)}))),s["default"].createElement(f.Col,{xs:5},s["default"].createElement(f.FormControl,{componentClass:"select"},this.state.mounth.map(function(e,t){return s["default"].createElement("option",{key:t,value:t},e)}))),s["default"].createElement(f.Col,{xs:4},s["default"].createElement(f.FormControl,{componentClass:"select",defaultValue:this.state.selected.year},this.state.years.map(function(e,t){return s["default"].createElement("option",{key:t,value:t},e)})))))}}]),t}(s["default"].Component),y=function(e){var t=e.id,r=e.type,n=e.label,a=e.placeholder,o=e.s;return function(e){return s["default"].createElement(f.Col,{sm:o||6},s["default"].createElement(f.FormGroup,{controlId:t},s["default"].createElement(f.ControlLabel,null,n),s["default"].createElement(f.FormControl,{type:r||"text",placeholder:a||n,defaultValue:e.val})))}},b={name:y({id:"name",label:"Имя"}),surname:y({id:"surname",label:"Фамилия"}),email:y({id:"email",type:"email",label:"Email"}),phone:y({id:"phone",type:"tel",label:"Телефон"}),country:y({id:"country",label:"Страна"}),city:y({id:"city",label:"Город"}),interests:y({id:"interests",label:"Интересы",s:12}),gender:function(e){return s["default"].createElement(f.Col,{sm:6},s["default"].createElement(f.FormGroup,{controlId:"gender"},s["default"].createElement(f.ControlLabel,null,"Пол"),s["default"].createElement(f.FormControl,{componentClass:"select"},s["default"].createElement("option",{value:"male"},"Мужской"),s["default"].createElement("option",{value:"female"},"Женский"))))},save:function(e){return s["default"].createElement(f.Col,{sm:3},s["default"].createElement(f.Button,{bsStyle:"primary",onClick:e.save,block:!0,className:"save"},"Сохранить"))},birthdate:m},E=function(e){function t(){var e,r,n,l;a(this,t);for(var c=arguments.length,i=Array(c),s=0;c>s;s++)i[s]=arguments[s];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onDrop=function(e){var t=u(e,1),r=t[0];n.context.uploadImage(r,n.context.accessToken)},n.openDropzone=function(e){n.refs.dropzone.open()},n.save=function(e){console.log(e)},l=r,o(n,l)}return l(t,e),c(t,[{key:"render",value:function(){var e=this.context.userinfo,t=e.image,r=e.name,n=e.surname,a=e.country,o=e.city,l=e.birthdate,u=e.email,c=e.phone,i=e.gender,d=e.interests;return s["default"].createElement(p["default"],{ref:"dropzone",onDrop:this.onDrop,multiple:!1,disableClick:!0,className:"profile edit navbar-default dropzone container",activeClassName:"drop-hovered"},s["default"].createElement("div",{className:"overlay"}),s["default"].createElement(f.Row,null,s["default"].createElement(f.Col,{md:10,mdOffset:1},s["default"].createElement(f.Row,{className:"row-eq-height"},s["default"].createElement(f.Col,{sm:3},s["default"].createElement(f.Image,{src:t,circle:!0})),s["default"].createElement(f.Col,{sm:3,className:"upload-userpic vertical-center"},s["default"].createElement(f.Button,{bsStyle:"primary",onClick:this.openDropzone},"Загрузить фото"))),s["default"].createElement(f.Form,null,s["default"].createElement(f.Row,null,s["default"].createElement(b.name,{val:r}),s["default"].createElement(b.email,{val:u})),s["default"].createElement(f.Row,null,s["default"].createElement(b.surname,{val:n}),s["default"].createElement(b.phone,{val:c})),s["default"].createElement(f.Row,null,s["default"].createElement(b.gender,{val:i}),s["default"].createElement(b.country,{val:a})),s["default"].createElement(f.Row,null,s["default"].createElement(b.birthdate,{val:l}),s["default"].createElement(b.city,{val:o})),s["default"].createElement(f.Row,null,s["default"].createElement(b.interests,{val:(d||[]).join(", ")})),s["default"].createElement(f.Row,null,s["default"].createElement(b.save,null))))))}}]),t}(s["default"].Component);E.contextTypes={userinfo:s["default"].PropTypes.object,uploadImage:s["default"].PropTypes.func,accessToken:s["default"].PropTypes.string},r["default"]=E},{react:"react","react-bootstrap":"react-bootstrap","react-dropzone":"react-dropzone"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a),l=e("react-bootstrap"),u=e("react-router-bootstrap"),c={editButton:{marginTop:"2rem"}},i=function(e,t){var r=t.userinfo,n=r.image,a=r.name,i=r.surname,s=r.country,f=r.city,d=r.birthdate;return o["default"].createElement(l.Grid,{className:"profile"},o["default"].createElement(l.Row,null,o["default"].createElement(l.Col,{xs:3,className:"text-center"},o["default"].createElement(l.Image,{src:n,circle:!0,className:"center-block"}),o["default"].createElement(u.LinkContainer,{to:"/profile/edit"},o["default"].createElement(l.Button,{bsStyle:"info",bsSize:"sm",style:c.editButton},"Редактировать"))),o["default"].createElement(l.Col,null,o["default"].createElement("h2",null,[a,i].join(" ")),o["default"].createElement("p",null,[s,f,d].join(" ")))))};i.contextTypes={userinfo:o["default"].PropTypes.object},r["default"]=i},{react:"react","react-bootstrap":"react-bootstrap","react-router-bootstrap":"react-router-bootstrap"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a);r["default"]=function(e){return o["default"].createElement("h1",null,"Welcome")}},{react:"react"}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="LOGIN",a="REGISTER",o="LOGOUT";r.LOGIN=n,r.REGISTER=a,r.LOGOUT=o;r.UPLOAD_IMAGE="UPLOAD_IMAGE"},{}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("react"),o=n(a),l=e("redux"),u=e("react-redux"),c=e("../actions"),i=e("../components/header.jsx"),s=n(i),f=o["default"].createClass({displayName:"Dashboard",childContextTypes:{accessToken:o["default"].PropTypes.string,refreshToken:o["default"].PropTypes.string,userinfo:o["default"].PropTypes.object,logout:o["default"].PropTypes.func,uploadImage:o["default"].PropTypes.func},getChildContext:function(){var e=this.props.user,t=e.userinfo,r=e.accessToken,n=e.refreshToken;return{userinfo:t,accessToken:r,refreshToken:n,logout:this.props.logout,uploadImage:this.props.uploadImage}},render:function(){return o["default"].createElement("div",null,o["default"].createElement(s["default"],{t:{x:1}}),this.props.children)}}),d=function(e){return{user:e.user}},p=function(e){return(0,l.bindActionCreators)({logout:c.logout,uploadImage:c.uploadImage},e)};r["default"]=(0,u.connect)(d,p)(f)},{"../actions":1,"../components/header.jsx":3,react:"react","react-redux":"react-redux",redux:"redux"}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-router"),d=e("react-redux"),p=e("../actions"),m=function(e){function t(){var e,r,n,l;a(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),n.props.login(n.refs.email.value,n.refs.password.value)},l=r,o(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"login"},i["default"].createElement("div",{className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Login to Onlango"),i["default"].createElement("div",{className:"body"},i["default"].createElement("p",{className:"msg"},"Sign in to start your session"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," Remember Me"),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Sign In"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign in using Google+")),i["default"].createElement(f.Link,{to:"/register",className:"text-center"},"Register a new membership"))))}}]),t}(i["default"].Component);r["default"]=(0,d.connect)(null,function(e){return(0,s.bindActionCreators)({login:p.login},e)})(m)},{"../actions":1,react:"react","react-redux":"react-redux","react-router":"react-router",redux:"redux"}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),i=n(c),s=e("redux"),f=e("react-router"),d=e("react-redux"),p=e("../actions"),m=function(e){function t(){var e,r,n,l;a(this,t);for(var u=arguments.length,c=Array(u),i=0;u>i;i++)c[i]=arguments[i];return r=n=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.submit=function(e){e.preventDefault(),n.props.register(n.refs.email.value,n.refs.password.value)},l=r,o(n,l)}return l(t,e),u(t,[{key:"render",value:function(){return i["default"].createElement("div",{className:"register"},i["default"].createElement("div",{className:"box"},i["default"].createElement("div",{className:"logo text-center"},"Register to Onlango"),i["default"].createElement("div",{className:"body"},i["default"].createElement("p",{className:"msg"},"Register a new membership"),i["default"].createElement("form",{onSubmit:this.submit},i["default"].createElement("input",{type:"email",placeholder:"Email",ref:"email"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Password",ref:"password"}),i["default"].createElement("br",null),i["default"].createElement("input",{type:"password",placeholder:"Retype password",ref:"retype"}),i["default"].createElement("br",null),i["default"].createElement("label",null,i["default"].createElement("input",{type:"checkbox"})," I agree to the ",i["default"].createElement("a",{href:"#"},"terms")),i["default"].createElement("br",null),i["default"].createElement("center",null,i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-block btn-flat"},"Register"))),i["default"].createElement("div",{className:"social-auth-links text-center"},i["default"].createElement("p",null,"- OR -"),i["default"].createElement("a",{href:"##"},"Sign up using Google+")),i["default"].createElement(f.Link,{to:"login",className:"text-center"},"I already have a membership"))))}}]),t}(i["default"].Component);r["default"]="undefined"==typeof window?m:(0,d.connect)(null,function(e){return(0,s.bindActionCreators)({register:p.register},e)})(m)},{"../actions":1,react:"react","react-redux":"react-redux","react-router":"react-router",redux:"redux"}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=e("react"),o=n(a),l=e("react-dom"),u=e("react-redux"),c=e("react-router"),i=e("./store"),s=n(i),f=e("./routes"),d=n(f);(0,l.render)(o["default"].createElement(u.Provider,{store:s["default"]},o["default"].createElement(c.Router,{routes:(0,d["default"])(s["default"]),history:c.browserHistory})),document.querySelector("#app"))},{"./routes":13,"./store":14,react:"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],12:[function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=e("redux"),u=e("redux-actions"),c=e("react-router"),i=e("../constants"),s=function(e){var t=e.userinfo,r=e.accessToken,n=e.refreshToken;localStorage.setItem("userinfo",JSON.stringify(t)),localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)},f=function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userinfo")},d={next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return console.log(t),s(t.payload),setTimeout(function(){c.browserHistory.push("/")},100),o({},e,t.payload)},"throw":function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log(e),f(),{}}},p=(0,u.handleActions)((a={},n(a,i.LOGIN,d),n(a,i.REGISTER,d),n(a,i.LOGOUT,function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1]);return console.log("do logout",e),f(),c.browserHistory.push("/login"),{}}),n(a,i.UPLOAD_IMAGE,{next:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1],r=o({},e.userinfo,{image:t.payload});return localStorage.setItem("userinfo",JSON.stringify(r)),o({},e,{userinfo:r})},fail:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];arguments[1];return o({},e)}}),a),{});r["default"]=(0,l.combineReducers)({user:p})},{"../constants":7,"react-router":"react-router",redux:"redux","redux-actions":"redux-actions"}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./containers/login.jsx"),o=n(a),l=e("./containers/register.jsx"),u=n(l),c=e("./containers/dashboard.jsx"),i=n(c),s=e("./components/welcome.jsx"),f=n(s),d=e("./components/profileView.jsx"),p=n(d),m=e("./components/profileEdit.jsx"),y=n(m),b=e("./components/404.jsx"),E=n(b),v=function(e){return e?function(t,r){var n=e.getState();n.user&&n.user.accessToken||r("/login")}:function(){}};r["default"]=function(e){var t=v(e);return[{path:"/",component:i["default"],onEnter:t,indexRoute:{component:f["default"]},childRoutes:[{path:"profile",component:p["default"]},{path:"profile/edit",component:y["default"]}]},{path:"/login",component:o["default"]},{path:"/register",component:u["default"]},{path:"*",statusCode:404,component:E["default"]}]}},{"./components/404.jsx":2,"./components/profileEdit.jsx":4,"./components/profileView.jsx":5,"./components/welcome.jsx":6,"./containers/dashboard.jsx":8,"./containers/login.jsx":9,"./containers/register.jsx":10}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("redux"),o=e("redux-thunk"),l=n(o),u=e("./reducers"),c=n(u),i={user:"undefined"==typeof localStorage?{}:{userinfo:JSON.parse(localStorage.getItem("userinfo")),accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken")}};r["default"]=(0,a.createStore)(c["default"],i,(0,a.compose)((0,a.applyMiddleware)(l["default"]),"undefined"!=typeof window&&window.devToolsExtension?window.devToolsExtension():function(e){return e}))},{"./reducers":12,redux:"redux","redux-thunk":"redux-thunk"}]},{},[11]);
//# sourceMappingURL=bundle.min.js.map
