{"version":3,"sources":["node_modules/browser-pack/_prelude.js","bundle.js","src/actions/index.js","src/components/404.jsx","src/components/header.jsx","src/components/login.jsx","src/components/mainPage.jsx","src/components/profileEdit.jsx","src/components/profileEditInfo.jsx","src/components/profileEditPassword.jsx","src/components/profileView.jsx","src/components/register.jsx","src/components/sidebar.jsx","src/components/welcome.jsx","src/constants.js","src/containers/app.jsx","src/containers/dashboard.jsx","src/containers/entrance.jsx","src/index.jsx","src/reducers/index.js","src/routes.js","src/store.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","changePassword","tryRefreshToken","getUserinfo","uploadUserinfo","uploadImage","login","logout","undefined","_reduxActions","_constants","_superagent","_superagent2","dispatch","createAction","LOGOUT","_ref","email","password","register","console","log","LOGIN","action","url","post","send","end","err","res","body","file","token","UPLOAD_IMAGE","set","attach","headers","location","data","UPLOAD_USERINFO","GET_USERINFO","get","refreshToken","REFRESH_TOKEN","query","CHANGE_PASSWORD","../constants","redux-actions","superagent","2","_react","_react2","_reactBootstrap","props","createElement","Grid","fluid","Row","Col","Panel","react","react-bootstrap","3","_reactRouterBootstrap","func","PropTypes","object","Header","context","Navbar","Brand","IndexLinkContainer","to","style","margin","Toggle","marginTop","Collapse","Nav","pullRight","NavDropdown","eventKey","id","title","Image","src","userinfo","image","circle","width","LinkContainer","MenuItem","onClick","contextTypes","isRequired","react-router-bootstrap","4","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","target","arguments","source","key","hasOwnProperty","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","push","Array","isArray","_createClass","defineProperties","descriptor","protoProps","staticProps","_reactDom","_reactRouter","Login","_Component","_Object$getPrototypeO","_temp","_this","_ret","this","_len","args","_key","getPrototypeOf","apply","concat","state","ref","c","findDOMNode","name","submit","preventDefault","_map","map","_map2","change","setState","nextProps","nextContext","error","validationState","className","Form","onSubmit","onChange","FormGroup","controlId","FormControl","type","placeholder","Button","block","Link","Component","react-dom","react-router","5","MainPage","h","document","offsetHeight","page","height","_this2","NavItem","children","disabled","6","_profileEditInfo","_profileEditInfo2","_profileEditPassword","_profileEditPassword2","Tab","Container","defaultActiveKey","animation","bsStyle","Content","Pane","./profileEditInfo.jsx","./profileEditPassword.jsx","7","_defineProperty","_reactDropzone","_reactDropzone2","DateSelector","_React$Component","months","split","years","composeDays","_ref$month","month","_ref$year","year","amount","Date","getDate","days","nextState","_props","day","d","sm","ControlLabel","componentClass","GenderSelector","size","label","Input","string","InfoForm","_Object$getPrototypeO2","_temp2","_ret2","_len2","_key2","drop","_ref2","_ref3","accessToken","open","refs","dropzone","_e$target","gender","_state","surname","country","city","phone","interests","birthdate","onDrop","multiple","disableClick","activeClassName","md","mdOffset","react-dropzone","8","ChangePasswordForm","padding","smOffset","9","styles","editButton","choose","ProfileView","_context$userinfo","age","getFullYear","getMonth","bsSize","join","Glyphicon","glyph","filter","10","Register","retype","Feedback","Checkbox","href","11","ListGroup","fill","ListGroupItem","12","13","14","App","15","_redux","_reactRedux","_actions","_header","_header2","_sidebar","_sidebar2","Dashboard","_props$user","user","childContextTypes","mapStateToProps","mapDispatchToProps","bindActionCreators","connect","../actions","../components/header.jsx","../components/sidebar.jsx","react-redux","redux","16","Entrance","getChildContext","rt","xs","xsOffset","17","_store","_store2","_routes","_routes2","render","Provider","store","Router","routes","history","browserHistory","querySelector","./routes","./store","18","_handleActions","saveTokensToStorage","localStorage","setItem","removeTokensFromStorage","removeItem","handleActions","payload","setTimeout","throw","JSON","stringify","fail","combineReducers","19","_app","_app2","_entrance","_entrance2","_login","_login2","_register","_register2","_dashboard","_dashboard2","_welcome","_welcome2","_profileView","_profileView2","_profileEdit","_profileEdit2","_mainPage","_mainPage2","_","_2","connectRequireAuth","replace","getState","requireAuth","path","component","indexRoute","childRoutes","onEnter","statusCode","./components/404.jsx","./components/login.jsx","./components/mainPage.jsx","./components/profileEdit.jsx","./components/profileView.jsx","./components/register.jsx","./components/welcome.jsx","./containers/app.jsx","./containers/dashboard.jsx","./containers/entrance.jsx","20","_reduxThunk","_reduxThunk2","_reducers","_reducers2","parse","getItem","createStore","compose","applyMiddleware","window","devToolsExtension","./reducers","redux-thunk"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.changePassword = exports.tryRefreshToken = exports.getUserinfo = exports.uploadUserinfo = exports.uploadImage = exports.login = exports.logout = undefined;\n\nvar _reduxActions = require('redux-actions');\n\nvar _constants = require('../constants');\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar logout = exports.logout = function logout() {\n  return function (dispatch) {\n    dispatch((0, _reduxActions.createAction)(_constants.LOGOUT)());\n  };\n};\n\nvar login = exports.login = function login(_ref) {\n  var email = _ref.email;\n  var password = _ref.password;\n  var register = _ref.register;\n  return function (dispatch) {\n    console.log(_constants.LOGIN, { email: email, password: password, register: register });\n    var action = (0, _reduxActions.createAction)(_constants.LOGIN);\n    var url = register ? '/api/register' : '/api/login';\n\n    return _superagent2.default.post(url).send({ email: email, password: password }).end(function (err, res) {\n      if (err) dispatch(action(err));else dispatch(action(res.body));\n    });\n  };\n};\n\nvar uploadImage = exports.uploadImage = function uploadImage(file, token) {\n  return function (dispatch) {\n    var action = (0, _reduxActions.createAction)(_constants.UPLOAD_IMAGE);\n    _superagent2.default.post('/api/setuserpic').set('Authorization', 'Bearer ' + token).attach('image', file).end(function (err, res) {\n      if (err) dispatch(action(err));else dispatch(action(res.headers.location));\n    });\n  };\n};\nvar uploadUserinfo = exports.uploadUserinfo = function uploadUserinfo(data, token) {\n  return function (dispatch) {\n    var action = (0, _reduxActions.createAction)(_constants.UPLOAD_USERINFO);\n    _superagent2.default.post('/api/userinfo').set('Authorization', 'Bearer ' + token).send(data).end(function (err, res) {\n      if (err) dispatch(action(err));else dispatch(action(res.body));\n    });\n  };\n};\nvar getUserinfo = exports.getUserinfo = function getUserinfo(token) {\n  return function (dispatch) {\n    var action = (0, _reduxActions.createAction)(_constants.GET_USERINFO);\n    _superagent2.default.get('/api/userinfo').set('Authorization', 'Bearer ' + token).end(function (err, res) {\n      if (err) dispatch(action(err));else dispatch(action(res.body));\n    });\n  };\n};\nvar tryRefreshToken = exports.tryRefreshToken = function tryRefreshToken(refreshToken) {\n  return function (dispatch) {\n    var action = (0, _reduxActions.createAction)(_constants.REFRESH_TOKEN);\n    _superagent2.default.get('/api/refresh').query({ refreshToken: refreshToken }).end(function (err, res) {\n      if (err) dispatch(action(err));else dispatch(action(res.body));\n    });\n  };\n};\nvar changePassword = exports.changePassword = function changePassword(password, token) {\n  return function (dispatch) {\n    var action = (0, _reduxActions.createAction)(_constants.CHANGE_PASSWORD);\n    _superagent2.default.post('/api/change_password').set('Authorization', 'Bearer ' + token).send({ password: password }).end(function (err, res) {\n      if (err) dispatch(action(err));else dispatch(action(res.body));\n    });\n  };\n};\n\n},{\"../constants\":13,\"redux-actions\":\"redux-actions\",\"superagent\":\"superagent\"}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (props) {\n  return _react2.default.createElement(_reactBootstrap.Grid, { fluid: true }, _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, null, _react2.default.createElement(_reactBootstrap.Panel, null, _react2.default.createElement('h1', null, '404 Not Found')))));\n};\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\"}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _reactRouterBootstrap = require('react-router-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar func = _react.PropTypes.func;\nvar object = _react.PropTypes.object;\n\nvar Header = function Header(props, context) {\n  return _react2.default.createElement(_reactBootstrap.Navbar, null, _react2.default.createElement(_reactBootstrap.Navbar.Header, null, _react2.default.createElement(_reactBootstrap.Navbar.Brand, null, _react2.default.createElement(_reactRouterBootstrap.IndexLinkContainer, { to: '/', style: { margin: '1rem' } }, _react2.default.createElement('a', null, 'Onlango-react'))), _react2.default.createElement(_reactBootstrap.Navbar.Toggle, { style: { marginTop: '1.5rem' } })), _react2.default.createElement(_reactBootstrap.Navbar.Collapse, null, _react2.default.createElement(_reactBootstrap.Nav, { pullRight: true }, _react2.default.createElement(_reactBootstrap.NavDropdown, { eventKey: 1, id: 'headerDropdown', title: _react2.default.createElement(_reactBootstrap.Image, { src: context.userinfo && context.userinfo.image, circle: true, style: { width: '48px' } }) }, _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/profile' }, _react2.default.createElement(_reactBootstrap.MenuItem, null, 'Профиль')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/help' }, _react2.default.createElement(_reactBootstrap.MenuItem, null, 'Помощь')), _react2.default.createElement(_reactBootstrap.MenuItem, { onClick: context.logout }, 'Выход')))));\n};\n\nHeader.contextTypes = {\n  userinfo: object.isRequired,\n  logout: func.isRequired\n};\n\nexports.default = Header;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-router-bootstrap\":\"react-router-bootstrap\"}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;_e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }return _arr;\n  }return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactRouter = require('react-router');\n\nvar _reactBootstrap = require('react-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar func = _react.PropTypes.func;\nvar object = _react.PropTypes.object;\n\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Login)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.state = { login: null }, _this.ref = function (c) {\n      if (c) {\n        var e = (0, _reactDom.findDOMNode)(c);\n        _this[e.name] = e;\n      }\n    }, _this.submit = function (e) {\n      e.preventDefault();\n\n      var _map = ['email', 'password'].map(function (e) {\n        return _this[e].value;\n      });\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      var email = _map2[0];\n      var password = _map2[1];\n\n      _this.context.login({ email: email, password: password });\n    }, _this.change = function () {\n      if (_this.state.login) _this.setState({ login: null });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Login, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      if (nextContext.error) this.setState({ login: { validationState: 'error' } });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', null, _react2.default.createElement('p', { className: 'msg' }, 'Sign in to start your session'), _react2.default.createElement(_reactBootstrap.Form, { className: 'login', onSubmit: this.submit, onChange: this.change }, _react2.default.createElement(_reactBootstrap.FormGroup, _extends({ controlId: 'email' }, this.state.login), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'email', name: 'email', placeholder: 'Email', ref: this.ref })), _react2.default.createElement(_reactBootstrap.FormGroup, _extends({ controlId: 'password' }, this.state.login), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'password', name: 'password', placeholder: 'Password', ref: this.ref })), _react2.default.createElement(_reactBootstrap.FormGroup, null, _react2.default.createElement(_reactBootstrap.Col, null, _react2.default.createElement(_reactBootstrap.Button, { type: 'submit', block: true }, 'Sign in')))), _react2.default.createElement(_reactRouter.Link, { to: '/register', className: 'text-center' }, 'Register a new membership'));\n    }\n  }]);\n\n  return Login;\n}(_react.Component);\n\nLogin.contextTypes = { login: func, error: object };\nexports.default = Login;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-dom\":\"react-dom\",\"react-router\":\"react-router\"}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _reactRouterBootstrap = require('react-router-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar MainPage = function (_Component) {\n  _inherits(MainPage, _Component);\n\n  function MainPage() {\n    _classCallCheck(this, MainPage);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MainPage).apply(this, arguments));\n  }\n\n  _createClass(MainPage, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var h = document.body.offsetHeight;\n      if (this.page.offsetHeight < h) this.page.style.height = h + 'px';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement('div', { className: 'main-page', ref: function ref(c) {\n          _this2.page = c;\n        } }, _react2.default.createElement('header', null, _react2.default.createElement(_reactBootstrap.Navbar, { fluid: true }, _react2.default.createElement(_reactBootstrap.Navbar.Header, null, _react2.default.createElement(_reactBootstrap.Navbar.Brand, null, _react2.default.createElement(_reactRouterBootstrap.IndexLinkContainer, { to: '/' }, _react2.default.createElement('a', null, 'Onlango-react'))), _react2.default.createElement(_reactBootstrap.Navbar.Toggle, null)), _react2.default.createElement(_reactBootstrap.Navbar.Collapse, null, _react2.default.createElement(_reactBootstrap.Nav, { pullRight: true }, _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/dashboard' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'Dashboard')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/about' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'About')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/contact' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'Contact')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/login' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'Login')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/register' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'Register')))))), _react2.default.createElement(_reactBootstrap.Grid, { fluid: true }, this.props.children), _react2.default.createElement('footer', null, _react2.default.createElement(_reactBootstrap.Nav, null, _react2.default.createElement(_reactBootstrap.NavItem, { disabled: true }, '© Onlango-react'), _react2.default.createElement(_reactRouterBootstrap.IndexLinkContainer, { to: '/' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'Home')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/privacy' }, _react2.default.createElement(_reactBootstrap.NavItem, null, 'Privacy')))));\n    }\n  }]);\n\n  return MainPage;\n}(_react.Component);\n\nexports.default = MainPage;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-router-bootstrap\":\"react-router-bootstrap\"}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _profileEditInfo = require('./profileEditInfo.jsx');\n\nvar _profileEditInfo2 = _interopRequireDefault(_profileEditInfo);\n\nvar _profileEditPassword = require('./profileEditPassword.jsx');\n\nvar _profileEditPassword2 = _interopRequireDefault(_profileEditPassword);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (props) {\n  return _react2.default.createElement(_reactBootstrap.Tab.Container, { defaultActiveKey: 'info', animation: false }, _react2.default.createElement(_reactBootstrap.Grid, { fluid: true }, _react2.default.createElement(_reactBootstrap.Nav, { bsStyle: 'tabs' }, _react2.default.createElement(_reactBootstrap.NavItem, { eventKey: 'info' }, 'Информация'), _react2.default.createElement(_reactBootstrap.NavItem, { eventKey: 'password' }, 'Сменить пароль'), _react2.default.createElement(_reactBootstrap.NavItem, { eventKey: 'notify' }, 'Уведомления')), _react2.default.createElement(_reactBootstrap.Tab.Content, { animation: true }, _react2.default.createElement(_reactBootstrap.Tab.Pane, { eventKey: 'info' }, _react2.default.createElement(_profileEditInfo2.default, null)), _react2.default.createElement(_reactBootstrap.Tab.Pane, { eventKey: 'password' }, _react2.default.createElement(_profileEditPassword2.default, null)), _react2.default.createElement(_reactBootstrap.Tab.Pane, { eventKey: 'notify' }, _react2.default.createElement(_reactBootstrap.Panel, null, 'Уведомления')))));\n};\n\n},{\"./profileEditInfo.jsx\":7,\"./profileEditPassword.jsx\":8,\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\"}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;_e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }return _arr;\n  }return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _reactDropzone = require('react-dropzone');\n\nvar _reactDropzone2 = _interopRequireDefault(_reactDropzone);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DateSelector = function (_React$Component) {\n  _inherits(DateSelector, _React$Component);\n\n  function DateSelector() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DateSelector);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(DateSelector)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.state = {\n      months: 'Январь,Февраль,Март,Апрель,Май,Июнь,Июль,Август,Сентябрь,Октябрь,Ноябрь,Декабрь'.split(','),\n      years: Array.apply(null, Array(100)).map(function (e, i) {\n        return i + 1930;\n      })\n    }, _this.composeDays = function (_ref) {\n      var _ref$month = _ref.month;\n      var month = _ref$month === undefined ? 0 : _ref$month;\n      var _ref$year = _ref.year;\n      var year = _ref$year === undefined ? 2000 : _ref$year;\n\n      var amount = new Date(year, month + 1, 0).getDate();\n      _this.setState({ days: Array.apply(null, Array(amount)).map(function (e, i) {\n          return i + 1;\n        }) });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(DateSelector, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.composeDays(this.props);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps, nextState, nextContext) {\n      if (nextProps.month != this.props.month || nextProps.year != this.props.year) this.composeDays(nextProps);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var day = _props.day;\n      var month = _props.month;\n      var year = _props.year;\n\n      var d = _react2.default.createElement('option', null, '-');\n      return _react2.default.createElement(_reactBootstrap.Col, { sm: 6 }, _react2.default.createElement(_reactBootstrap.FormGroup, null, _react2.default.createElement(_reactBootstrap.ControlLabel, null, 'Дата рождения'), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, { sm: 3 }, _react2.default.createElement(_reactBootstrap.FormControl, { id: 'day', name: 'day', componentClass: 'select', value: day }, d, this.state.days.map(function (e, i) {\n        return _react2.default.createElement('option', { key: i, value: e }, e);\n      }))), _react2.default.createElement(_reactBootstrap.Col, { sm: 5 }, _react2.default.createElement(_reactBootstrap.FormControl, { id: 'mounth', name: 'month', componentClass: 'select', value: month }, d, this.state.months.map(function (e, i) {\n        return _react2.default.createElement('option', { key: i, value: i }, e);\n      }))), _react2.default.createElement(_reactBootstrap.Col, { sm: 4 }, _react2.default.createElement(_reactBootstrap.FormControl, { id: 'year', name: 'year', componentClass: 'select', value: year }, d, this.state.years.map(function (e, i) {\n        return _react2.default.createElement('option', { key: i, value: e }, e);\n      }))))));\n    }\n  }]);\n\n  return DateSelector;\n}(_react2.default.Component);\n\nvar GenderSelector = function GenderSelector(props) {\n  return _react2.default.createElement(_reactBootstrap.Col, { sm: props.size || 6 }, _react2.default.createElement(_reactBootstrap.FormGroup, { controlId: props.id }, _react2.default.createElement(_reactBootstrap.ControlLabel, null, props.label), _react2.default.createElement(_reactBootstrap.FormControl, { componentClass: 'select', name: props.id, value: props.value }, _react2.default.createElement('option', null, '-'), _react2.default.createElement('option', { value: 'male' }, 'Мужской'), _react2.default.createElement('option', { value: 'female' }, 'Женский'))));\n};\n\nvar Input = function Input(props) {\n  return _react2.default.createElement(_reactBootstrap.Col, { sm: props.size || 6 }, _react2.default.createElement(_reactBootstrap.FormGroup, { controlId: props.id }, _react2.default.createElement(_reactBootstrap.ControlLabel, null, props.label), _react2.default.createElement(_reactBootstrap.FormControl, { type: props.type || 'text', name: props.id, placeholder: props.placeholder || props.label, value: props.value })));\n};\n\nvar object = _react.PropTypes.object;\nvar func = _react.PropTypes.func;\nvar string = _react.PropTypes.string;\n\nvar InfoForm = function (_Component) {\n  _inherits(InfoForm, _Component);\n\n  function InfoForm() {\n    var _Object$getPrototypeO2;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, InfoForm);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_Object$getPrototypeO2 = Object.getPrototypeOf(InfoForm)).call.apply(_Object$getPrototypeO2, [this].concat(args))), _this2), _this2.state = _extends({}, _this2.context.userinfo), _this2.drop = function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1);\n\n      var file = _ref3[0];\n      _this2.context.uploadImage(file, _this2.context.accessToken);\n    }, _this2.open = function (e) {\n      _this2.refs.dropzone.open();\n    }, _this2.submit = function (e) {\n      e.preventDefault();\n      var data = _this2.state;\n      _this2.context.uploadUserinfo(data, _this2.context.accessToken);\n    }, _this2.change = function (e) {\n      var _e$target = e.target;\n      var name = _e$target.name;\n      var value = _e$target.value;\n\n      if (name == 'day' || name == 'month' || name == 'year') {\n        _this2.setState(_defineProperty({}, name, value == '-' ? undefined : +value));\n      } else if (name == 'gender') {\n        _this2.setState({ gender: value == '-' ? undefined : value });\n      } else {\n        _this2.setState(_defineProperty({}, name, value));\n      }\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(InfoForm, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      this.setState(_extends({}, this.state, nextContext.userinfo));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state;\n      var image = _state.image;\n      var name = _state.name;\n      var surname = _state.surname;\n      var country = _state.country;\n      var city = _state.city;\n      var email = _state.email;\n      var phone = _state.phone;\n      var gender = _state.gender;\n      var interests = _state.interests;\n      var day = _state.day;\n      var month = _state.month;\n      var year = _state.year;\n\n      var birthdate = { day: day, month: month, year: year };\n\n      return _react2.default.createElement(_reactDropzone2.default, {\n        ref: 'dropzone',\n        onDrop: this.drop,\n        multiple: false,\n        disableClick: true,\n        className: 'profile edit navbar-default dropzone',\n        activeClassName: 'drop-hovered' }, _react2.default.createElement('div', { className: 'overlay' }), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, { md: 10, mdOffset: 1 }, _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Image, { src: image, style: { margin: '2rem' }, circle: true }), _react2.default.createElement(_reactBootstrap.Button, { bsStyle: 'primary', onClick: this.open }, 'Загрузить фото')), _react2.default.createElement(_reactBootstrap.Form, { onChange: this.change, onSubmit: this.submit }, _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(Input, { id: 'name', label: 'Имя', value: name }), _react2.default.createElement(Input, { id: 'email', type: 'email', label: 'Email', value: email })), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(Input, { id: 'surname', label: 'Фамилия', value: surname }), _react2.default.createElement(Input, { id: 'phone', type: 'tel', label: 'Телефон', value: phone })), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(GenderSelector, { id: 'gender', label: 'Пол', value: gender }), _react2.default.createElement(Input, { id: 'country', label: 'Страна', value: country })), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(DateSelector, birthdate), _react2.default.createElement(Input, { id: 'city', label: 'Город', value: city })), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(Input, { id: 'interests', label: 'Интересы', value: interests, size: 12 })), _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, { sm: 3 }, _react2.default.createElement(_reactBootstrap.Button, { bsStyle: 'primary', type: 'submit', block: true, className: 'save' }, 'Сохранить')))))));\n    }\n  }]);\n\n  return InfoForm;\n}(_react.Component);\n\nInfoForm.contextTypes = {\n  userinfo: object,\n  uploadImage: func,\n  uploadUserinfo: func,\n  accessToken: string\n};\nexports.default = InfoForm;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-dropzone\":\"react-dropzone\"}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar func = _react.PropTypes.func;\nvar string = _react.PropTypes.string;\n\nvar ChangePasswordForm = function (_Component) {\n  _inherits(ChangePasswordForm, _Component);\n\n  function ChangePasswordForm() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ChangePasswordForm);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(ChangePasswordForm)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.state = {}, _this.change = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    }, _this.submit = function (e) {\n      e.preventDefault();\n      _this.context.changePassword(_this.state.password, _this.context.accessToken);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ChangePasswordForm, [{\n    key: 'render',\n    value: function render() {\n      console.log(this.state);\n      return _react2.default.createElement(_reactBootstrap.Row, { className: 'panel', style: { padding: '5rem 2rem' } }, _react2.default.createElement(_reactBootstrap.Col, { sm: 4, smOffset: 4 }, _react2.default.createElement('form', { onChange: this.change, onSubmit: this.submit }, _react2.default.createElement(_reactBootstrap.FormGroup, { controlId: 'password' }, _react2.default.createElement(_reactBootstrap.ControlLabel, null, 'Новый пароль'), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'password' })), _react2.default.createElement(_reactBootstrap.FormGroup, { controlId: 'retype' }, _react2.default.createElement(_reactBootstrap.ControlLabel, null, 'Повторный ввод'), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'password' })), _react2.default.createElement(_reactBootstrap.Button, { bsStyle: 'primary', type: 'submit', block: true, className: 'save' }, 'Сменить пароль'))));\n    }\n  }]);\n\n  return ChangePasswordForm;\n}(_react.Component);\n\nChangePasswordForm.contextTypes = {\n  changePassword: func,\n  accessToken: string\n};\nexports.default = ChangePasswordForm;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\"}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _reactRouterBootstrap = require('react-router-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar styles = {\n  editButton: {\n    marginTop: '2rem'\n  }\n};\nvar choose = function choose(d) {\n  d %= 100;\n  if (d > 10 && d < 20) return 2;\n  d %= 10;\n  if (d == 1) return 0;\n  if (d > 1 && d < 5) return 1;\n  return 2;\n};\n\nvar ProfileView = function ProfileView(props, context) {\n  var _context$userinfo = context.userinfo;\n  var image = _context$userinfo.image;\n  var name = _context$userinfo.name;\n  var surname = _context$userinfo.surname;\n  var country = _context$userinfo.country;\n  var city = _context$userinfo.city;\n  var year = _context$userinfo.year;\n  var month = _context$userinfo.month;\n\n  var d = new Date();\n  var age = void 0;\n  if (year) {\n    age = d.getFullYear() - year;\n    if (d.getMonth() - month < 0) age -= 1;\n    age = age + ' ' + ['год', 'года', 'лет'][choose(age)];\n  }\n  return _react2.default.createElement(_reactBootstrap.Grid, { className: 'profile' }, _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, { sm: 3, className: 'text-center' }, _react2.default.createElement(_reactBootstrap.Image, { src: image, circle: true, className: 'center-block' }), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/profile/edit' }, _react2.default.createElement(_reactBootstrap.Button, { bsStyle: 'primary', bsSize: 'sm', style: styles.editButton }, 'Редактировать'))), _react2.default.createElement(_reactBootstrap.Col, { sm: 4 }, _react2.default.createElement('h2', null, [name, surname].join(' ')), _react2.default.createElement('p', null, _react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: 'map-marker' }), ' ', [country, city, age].filter(function (e) {\n    return e;\n  }).join(', ')))));\n};\n\nProfileView.contextTypes = {\n  userinfo: _react2.default.PropTypes.object\n};\n\nexports.default = ProfileView;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-router-bootstrap\":\"react-router-bootstrap\"}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;_e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }return _arr;\n  }return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactRouter = require('react-router');\n\nvar _reactBootstrap = require('react-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar func = _react.PropTypes.func;\nvar object = _react.PropTypes.object;\n\nvar Register = function (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Register)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.state = { login: null, retype: null }, _this.ref = function (c) {\n      if (c) {\n        var e = (0, _reactDom.findDOMNode)(c);\n        _this[e.name] = e;\n      }\n    }, _this.submit = function (e) {\n      e.preventDefault();\n\n      var _map = ['email', 'password', 'retype'].map(function (e) {\n        return _this[e].value;\n      });\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      var email = _map2[0];\n      var password = _map2[1];\n\n      _this.context.login({ email: email, password: password, register: true });\n    }, _this.change = function (e) {\n      if (_this.state.login) _this.setState({ login: null });\n      if (_this.retype.value != _this.password.value) _this.setState({ retype: { validationState: 'error' } });else _this.setState({ retype: null });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Register, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      if (nextContext.error) this.setState({ login: { validationState: 'error' } });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', null, _react2.default.createElement('p', { className: 'msg' }, 'Register a new membership'), _react2.default.createElement(_reactBootstrap.Form, { className: 'login', onSubmit: this.submit, onChange: this.change }, _react2.default.createElement(_reactBootstrap.FormGroup, _extends({ controlId: 'email' }, this.state.login), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'email', name: 'email', placeholder: 'Email', ref: this.ref }), _react2.default.createElement(_reactBootstrap.FormControl.Feedback, null)), _react2.default.createElement(_reactBootstrap.FormGroup, _extends({ controlId: 'password' }, this.state.login), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'password', name: 'password', placeholder: 'Password', ref: this.ref }), _react2.default.createElement(_reactBootstrap.FormControl.Feedback, null)), _react2.default.createElement(_reactBootstrap.FormGroup, _extends({ controlId: 'password' }, this.state.retype), _react2.default.createElement(_reactBootstrap.FormControl, { type: 'password', name: 'retype', placeholder: 'Retype password', ref: this.ref }), _react2.default.createElement(_reactBootstrap.FormControl.Feedback, null)), _react2.default.createElement(_reactBootstrap.FormGroup, null, _react2.default.createElement(_reactBootstrap.Checkbox, null, 'I agree to the ', _react2.default.createElement('a', { href: '#' }, 'terms'))), _react2.default.createElement(_reactBootstrap.FormGroup, null, _react2.default.createElement(_reactBootstrap.Col, null, _react2.default.createElement(_reactBootstrap.Button, { type: 'submit', block: true }, 'Sign in')))), _react2.default.createElement(_reactRouter.Link, { to: 'login', className: 'text-center' }, 'I already have a membership'));\n    }\n  }]);\n\n  return Register;\n}(_react.Component);\n\nRegister.contextTypes = { login: func, error: object };\nexports.default = Register;\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-dom\":\"react-dom\",\"react-router\":\"react-router\"}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _reactRouterBootstrap = require('react-router-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (props) {\n  return _react2.default.createElement(_reactBootstrap.ListGroup, { fill: true }, _react2.default.createElement(_reactRouterBootstrap.IndexLinkContainer, { to: '/dashboard' }, _react2.default.createElement(_reactBootstrap.ListGroupItem, null, 'Главная')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/schedule' }, _react2.default.createElement(_reactBootstrap.ListGroupItem, null, 'Расписание')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/payment' }, _react2.default.createElement(_reactBootstrap.ListGroupItem, null, 'Оплата')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/archive' }, _react2.default.createElement(_reactBootstrap.ListGroupItem, null, 'Архив')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/tests' }, _react2.default.createElement(_reactBootstrap.ListGroupItem, null, 'Тесты')), _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/help' }, _react2.default.createElement(_reactBootstrap.ListGroupItem, null, 'Помощь')));\n};\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-router-bootstrap\":\"react-router-bootstrap\"}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nexports.default = function (props) {\n  return _react2.default.createElement(_reactBootstrap.Grid, null, _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, null, _react2.default.createElement('h1', null, 'Welcome'))));\n};\n\n},{\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\"}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar LOGIN = 'LOGIN';\nvar LOGOUT = 'LOGOUT';\nexports.LOGIN = LOGIN;\nexports.LOGOUT = LOGOUT;\nvar UPLOAD_IMAGE = 'UPLOAD_IMAGE';\nvar UPLOAD_USERINFO = 'UPLOAD_USERINFO';\nexports.UPLOAD_IMAGE = UPLOAD_IMAGE;\nexports.UPLOAD_USERINFO = UPLOAD_USERINFO;\nvar GET_USERINFO = exports.GET_USERINFO = 'GET_USERINFO';\nvar REFRESH_TOKEN = exports.REFRESH_TOKEN = 'REFRESH_TOKEN';\nvar CHANGE_PASSWORD = exports.CHANGE_PASSWORD = 'CHANGE_PASSWORD';\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', null, this.props.children);\n    }\n  }]);\n\n  return App;\n}(_react.Component);\n\nexports.default = App;\n\n},{\"react\":\"react\"}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _actions = require('../actions');\n\nvar _header = require('../components/header.jsx');\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _sidebar = require('../components/sidebar.jsx');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _reactBootstrap = require('react-bootstrap');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Dashboard = function (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard() {\n    _classCallCheck(this, Dashboard);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Dashboard).apply(this, arguments));\n  }\n\n  _createClass(Dashboard, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      var _props$user = this.props.user;\n      var userinfo = _props$user.userinfo;\n      var accessToken = _props$user.accessToken;\n      var refreshToken = _props$user.refreshToken;\n      var _props = this.props;\n      var logout = _props.logout;\n      var uploadImage = _props.uploadImage;\n      var uploadUserinfo = _props.uploadUserinfo;\n      var getUserinfo = _props.getUserinfo;\n      var changePassword = _props.changePassword;\n\n      return {\n        userinfo: userinfo,\n        accessToken: accessToken,\n        refreshToken: refreshToken,\n        logout: logout,\n        uploadImage: uploadImage,\n        uploadUserinfo: uploadUserinfo,\n        getUserinfo: getUserinfo,\n        changePassword: changePassword\n      };\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.props.getUserinfo(this.props.user.accessToken);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('div', { id: 'dashboard' }, _react2.default.createElement(_header2.default, null), _react2.default.createElement(_reactBootstrap.Grid, { fluid: true }, _react2.default.createElement(_reactBootstrap.Row, null, _react2.default.createElement(_reactBootstrap.Col, { sm: 2 }, _react2.default.createElement(_sidebar2.default, null)), _react2.default.createElement(_reactBootstrap.Col, { sm: 10 }, this.props.children))));\n    }\n  }]);\n\n  return Dashboard;\n}(_react2.default.Component);\n\nDashboard.childContextTypes = {\n  accessToken: _react2.default.PropTypes.string,\n  refreshToken: _react2.default.PropTypes.string,\n  userinfo: _react2.default.PropTypes.object,\n  logout: _react2.default.PropTypes.func,\n  uploadImage: _react2.default.PropTypes.func,\n  uploadUserinfo: _react2.default.PropTypes.func,\n  getUserinfo: _react2.default.PropTypes.func,\n  changePassword: _react2.default.PropTypes.func\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return { user: state.user };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return (0, _redux.bindActionCreators)({ logout: _actions.logout, uploadImage: _actions.uploadImage, uploadUserinfo: _actions.uploadUserinfo, getUserinfo: _actions.getUserinfo, changePassword: _actions.changePassword }, dispatch);\n};\n\nexports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Dashboard);\n\n},{\"../actions\":1,\"../components/header.jsx\":3,\"../components/sidebar.jsx\":11,\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-redux\":\"react-redux\",\"redux\":\"redux\"}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _reactBootstrap = require('react-bootstrap');\n\nvar _reactRouterBootstrap = require('react-router-bootstrap');\n\nvar _actions = require('../actions');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar func = _react.PropTypes.func;\nvar object = _react.PropTypes.object;\n\nvar Entrance = function (_Component) {\n  _inherits(Entrance, _Component);\n\n  function Entrance() {\n    var _Object$getPrototypeO;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Entrance);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(Entrance)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.getChildContext = function () {\n      return {\n        login: _this.props.login,\n        tryRefreshToken: _this.props.tryRefreshToken,\n        error: _this.props.user.error\n      };\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Entrance, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var rt = this.props.location.query.rt;\n\n      if (rt) this.props.tryRefreshToken(rt);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(_reactBootstrap.Grid, { className: 'vertical-center entrance' }, _react2.default.createElement(_reactBootstrap.Col, { md: 4, mdOffset: 4, sm: 6, smOffset: 3, xs: 10, xsOffset: 1, className: 'box' }, _react2.default.createElement('div', { className: 'logo text-center' }, 'Login to ', _react2.default.createElement(_reactRouterBootstrap.LinkContainer, { to: '/' }, _react2.default.createElement('a', null, 'Onlango'))), this.props.children, _react2.default.createElement('div', { className: 'social-auth-links text-center' }, _react2.default.createElement('p', null, '- OR -'), _react2.default.createElement('a', { href: '/google' }, 'Sign in using Google+'))));\n    }\n  }]);\n\n  return Entrance;\n}(_react.Component);\n\nEntrance.childContextTypes = {\n  login: func,\n  tryRefreshToken: func,\n  error: object\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n  return { user: state.user };\n}, function (dispatch) {\n  return (0, _redux.bindActionCreators)({ login: _actions.login, tryRefreshToken: _actions.tryRefreshToken }, dispatch);\n})(Entrance);\n\n},{\"../actions\":1,\"react\":\"react\",\"react-bootstrap\":\"react-bootstrap\",\"react-redux\":\"react-redux\",\"react-router-bootstrap\":\"react-router-bootstrap\",\"redux\":\"redux\"}],17:[function(require,module,exports){\n'use strict';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactRedux = require('react-redux');\n\nvar _reactRouter = require('react-router');\n\nvar _store = require('./store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _routes = require('./routes');\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n(0, _reactDom.render)(_react2.default.createElement(_reactRedux.Provider, { store: _store2.default }, _react2.default.createElement(_reactRouter.Router, { routes: (0, _routes2.default)(_store2.default), history: _reactRouter.browserHistory })), document.querySelector('#app'));\n\n},{\"./routes\":19,\"./store\":20,\"react\":\"react\",\"react-dom\":\"react-dom\",\"react-redux\":\"react-redux\",\"react-router\":\"react-router\"}],18:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }return target;\n};\n\nvar _redux = require('redux');\n\nvar _reduxActions = require('redux-actions');\n\nvar _reactRouter = require('react-router');\n\nvar _constants = require('../constants');\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }return obj;\n}\n\nvar saveTokensToStorage = function saveTokensToStorage(_ref) {\n  var userinfo = _ref.userinfo;\n  var accessToken = _ref.accessToken;\n  var refreshToken = _ref.refreshToken;\n\n  localStorage.setItem('accessToken', accessToken);\n  localStorage.setItem('refreshToken', refreshToken);\n};\nvar removeTokensFromStorage = function removeTokensFromStorage() {\n  localStorage.removeItem('accessToken');\n  localStorage.removeItem('refreshToken');\n};\n\nvar user = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, _constants.LOGIN, {\n  next: function next() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    saveTokensToStorage(action.payload);\n    setTimeout(function () {\n      _reactRouter.browserHistory.push('/dashboard');\n    }, 100);\n    return _extends({}, state, action.payload);\n  },\n  throw: function _throw() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    return { error: action.payload };\n  }\n}), _defineProperty(_handleActions, _constants.LOGOUT, function () {\n  var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var action = arguments[1];\n\n  console.log('do logout', action);\n  removeTokensFromStorage();\n  localStorage.removeItem('userinfo');\n  _reactRouter.browserHistory.push('/login');\n  return {};\n}), _defineProperty(_handleActions, _constants.UPLOAD_IMAGE, {\n  next: function next() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    var userinfo = _extends({}, state.userinfo, { image: action.payload });\n    localStorage.setItem('userinfo', JSON.stringify(userinfo));\n    return _extends({}, state, { userinfo: userinfo });\n  },\n  fail: function fail() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n    console.log(action);return state;\n  }\n}), _defineProperty(_handleActions, _constants.UPLOAD_USERINFO, {\n  next: function next() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    localStorage.setItem('userinfo', JSON.stringify(action.payload));\n    _reactRouter.browserHistory.push('/profile');\n    return _extends({}, state, { userinfo: _extends({}, action.payload) });\n  },\n  fail: function fail() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    localStorage.removeItem('userinfo');\n    return state;\n  }\n}), _defineProperty(_handleActions, _constants.GET_USERINFO, {\n  next: function next() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    localStorage.setItem('userinfo', JSON.stringify(action.payload));\n    return _extends({}, state, { userinfo: _extends({}, action.payload) });\n  },\n  fail: function fail() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    localStorage.removeItem('userinfo');\n    return state;\n  }\n}), _defineProperty(_handleActions, _constants.REFRESH_TOKEN, {\n  next: function next() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    console.log(action);\n    saveTokensToStorage(action.payload);\n    setTimeout(function () {\n      _reactRouter.browserHistory.push('/');\n    }, 100);\n    return _extends({}, state, action.payload);\n  },\n  fail: function fail() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n    console.log(action);return state;\n  }\n}), _handleActions), {});\n\nexports.default = (0, _redux.combineReducers)({\n  user: user\n});\n\n},{\"../constants\":13,\"react-router\":\"react-router\",\"redux\":\"redux\",\"redux-actions\":\"redux-actions\"}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _app = require('./containers/app.jsx');\n\nvar _app2 = _interopRequireDefault(_app);\n\nvar _entrance = require('./containers/entrance.jsx');\n\nvar _entrance2 = _interopRequireDefault(_entrance);\n\nvar _login = require('./components/login.jsx');\n\nvar _login2 = _interopRequireDefault(_login);\n\nvar _register = require('./components/register.jsx');\n\nvar _register2 = _interopRequireDefault(_register);\n\nvar _dashboard = require('./containers/dashboard.jsx');\n\nvar _dashboard2 = _interopRequireDefault(_dashboard);\n\nvar _welcome = require('./components/welcome.jsx');\n\nvar _welcome2 = _interopRequireDefault(_welcome);\n\nvar _profileView = require('./components/profileView.jsx');\n\nvar _profileView2 = _interopRequireDefault(_profileView);\n\nvar _profileEdit = require('./components/profileEdit.jsx');\n\nvar _profileEdit2 = _interopRequireDefault(_profileEdit);\n\nvar _mainPage = require('./components/mainPage.jsx');\n\nvar _mainPage2 = _interopRequireDefault(_mainPage);\n\nvar _ = require('./components/404.jsx');\n\nvar _2 = _interopRequireDefault(_);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar connectRequireAuth = function connectRequireAuth(store) {\n  return function (nextState, replace) {\n    console.log('checkAuth', nextState);\n    var state = store.getState();\n    if (!state.user || !state.user.accessToken) replace('/login');\n  };\n};\n\nexports.default = function (store) {\n  var requireAuth = connectRequireAuth(store);\n  return [{\n    path: '/',\n    component: _app2.default,\n    indexRoute: { component: _mainPage2.default },\n    childRoutes: [{\n      path: 'dashboard',\n      component: _dashboard2.default,\n      onEnter: requireAuth,\n      indexRoute: { component: _welcome2.default }\n    }, {\n      component: _mainPage2.default,\n      childRoutes: [{ path: 'about', component: _2.default }, { path: 'contact', component: _2.default }, { path: 'privacy', component: _2.default }, { path: 'login', component: _entrance2.default, indexRoute: { component: _login2.default } }, {\n        component: _entrance2.default,\n        childRoutes: [{ path: 'register', component: _register2.default }]\n      }]\n    }, {\n      component: _dashboard2.default,\n      onEnter: requireAuth,\n      childRoutes: [{ path: 'profile', component: _profileView2.default }, { path: 'profile/edit', component: _profileEdit2.default }, { path: 'schedule', component: _2.default }, { path: 'payment', component: _2.default }, { path: 'archive', component: _2.default }, { path: 'tests', component: _2.default }, { path: 'help', component: _2.default }]\n    }]\n  }, {\n    path: '*',\n    statusCode: 404,\n    component: _2.default\n  }];\n};\n\n},{\"./components/404.jsx\":2,\"./components/login.jsx\":4,\"./components/mainPage.jsx\":5,\"./components/profileEdit.jsx\":6,\"./components/profileView.jsx\":9,\"./components/register.jsx\":10,\"./components/welcome.jsx\":12,\"./containers/app.jsx\":14,\"./containers/dashboard.jsx\":15,\"./containers/entrance.jsx\":16}],20:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _redux = require('redux');\n\nvar _reduxThunk = require('redux-thunk');\n\nvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\nvar _reducers = require('./reducers');\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar state = {\n  user: {\n    userinfo: JSON.parse(localStorage.getItem('userinfo')),\n    accessToken: localStorage.getItem('accessToken'),\n    refreshToken: localStorage.getItem('refreshToken')\n  }\n};\n\nexports.default = (0, _redux.createStore)(_reducers2.default, state, (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default), typeof window != 'undefined' && window.devToolsExtension ? window.devToolsExtension() : function (f) {\n  return f;\n}));\n\n},{\"./reducers\":18,\"redux\":\"redux\",\"redux-thunk\":\"redux-thunk\"}]},{},[17])\n\n","import {createAction} from 'redux-actions';\nimport {LOGIN, LOGOUT, UPLOAD_IMAGE, UPLOAD_USERINFO} from '../constants';\nimport {GET_USERINFO, REFRESH_TOKEN, CHANGE_PASSWORD} from '../constants';\nimport request from 'superagent';\n\nexport const logout = () => dispatch => { dispatch(createAction(LOGOUT)()) };\n\nexport const login = ({email, password, register}) => dispatch => {\n  console.log(LOGIN, {email, password, register});\n  const action = createAction(LOGIN);\n  const url = register ? '/api/register' : '/api/login';\n\n  return request\n    .post(url)\n    .send({email, password})\n    .end((err, res) => {\n      if (err) dispatch(action(err));\n      else dispatch(action(res.body));\n    });\n};\n\nexport const uploadImage = (file, token) => dispatch => {\n  const action = createAction(UPLOAD_IMAGE);\n  request\n    .post('/api/setuserpic')\n    .set('Authorization', `Bearer ${token}`)\n    .attach('image', file)\n    .end((err, res) => {\n      if (err) dispatch(action(err));\n      else dispatch(action(res.headers.location));\n    });\n};\nexport const uploadUserinfo = (data, token) => dispatch => {\n  const action = createAction(UPLOAD_USERINFO);\n  request\n    .post('/api/userinfo')\n    .set('Authorization', `Bearer ${token}`)\n    .send(data)\n    .end((err, res) => {\n      if (err) dispatch(action(err));\n      else dispatch(action(res.body));\n    });\n};\nexport const getUserinfo = token => dispatch => {\n  const action = createAction(GET_USERINFO);\n  request\n    .get('/api/userinfo')\n    .set('Authorization', `Bearer ${token}`)\n    .end((err, res) => {\n      if (err) dispatch(action(err));\n      else dispatch(action(res.body));\n    });\n};\nexport const tryRefreshToken = refreshToken => dispatch => {\n  const action = createAction(REFRESH_TOKEN);\n  request\n    .get('/api/refresh')\n    .query({refreshToken})\n    .end((err, res) => {\n      if (err) dispatch(action(err));\n      else dispatch(action(res.body));\n    });\n};\nexport const changePassword = (password, token) => dispatch => {\n  const action = createAction(CHANGE_PASSWORD);\n  request\n    .post('/api/change_password')\n    .set('Authorization', `Bearer ${token}`)\n    .send({password})\n    .end((err, res) => {\n      if (err) dispatch(action(err));\n      else dispatch(action(res.body));\n    });\n};\n","import React from 'react';\nimport {Grid, Row, Col, Panel} from 'react-bootstrap';\n\nexport default props => <Grid fluid>\n  <Row>\n    <Col>\n      <Panel>\n        <h1>404 Not Found</h1>\n      </Panel>\n    </Col>\n  </Row>\n</Grid>;\n","import React, {PropTypes} from 'react';\nimport {Navbar, Nav, NavDropdown, MenuItem, Image} from 'react-bootstrap';\nimport {IndexLinkContainer, LinkContainer} from 'react-router-bootstrap';\n\nconst {func, object} = PropTypes;\n\nconst Header = (props, context) =>\n  <Navbar>\n    <Navbar.Header>\n      <Navbar.Brand>\n        <IndexLinkContainer to='/' style={{margin: '1rem'}}><a>Onlango-react</a></IndexLinkContainer>\n      </Navbar.Brand>\n      <Navbar.Toggle style={{marginTop: '1.5rem'}} />\n    </Navbar.Header>\n    <Navbar.Collapse>\n      <Nav pullRight>\n        <NavDropdown eventKey={1} id='headerDropdown' title={<Image src={context.userinfo && context.userinfo.image} circle style={{width: '48px'}} />}>\n          <LinkContainer to='/profile'><MenuItem>Профиль</MenuItem></LinkContainer>\n          <LinkContainer to='/help'><MenuItem>Помощь</MenuItem></LinkContainer>\n          <MenuItem onClick={context.logout}>Выход</MenuItem>\n        </NavDropdown>\n      </Nav>\n    </Navbar.Collapse>\n  </Navbar>;\n\nHeader.contextTypes = {\n  userinfo: object.isRequired,\n  logout: func.isRequired\n};\n\nexport default Header;\n","import React, {Component, PropTypes} from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {Link} from 'react-router';\nimport {Col, Form, FormGroup, FormControl, Button} from 'react-bootstrap';\n\nconst {func, object} = PropTypes;\n\nexport default class Login extends Component {\n  static contextTypes = {login: func, error: object};\n  state = {login: null};\n  ref = c => {\n    if (c) {\n      const e = findDOMNode(c);\n      this[e.name] = e;\n    }\n  };\n  submit = e => {\n    e.preventDefault();\n    const [email, password] = ['email', 'password'].map(e => this[e].value);\n    this.context.login({email, password});\n  };\n  change = () => {\n    if (this.state.login) this.setState({login: null});\n  };\n  componentWillReceiveProps(nextProps, nextContext) {\n    if (nextContext.error) this.setState({login: {validationState: 'error'}});\n  }\n  render() {\n    return <div>\n      <p className='msg'>Sign in to start your session</p>\n      <Form className='login' onSubmit={this.submit} onChange={this.change}>\n        <FormGroup controlId='email' {...this.state.login}>\n          <FormControl type='email' name='email' placeholder='Email' ref={this.ref}/>\n        </FormGroup>\n        <FormGroup controlId='password' {...this.state.login}>\n          <FormControl type='password' name='password' placeholder='Password' ref={this.ref}/>\n        </FormGroup>\n        <FormGroup><Col><Button type='submit' block>Sign in</Button></Col></FormGroup>\n      </Form>\n      <Link to='/register' className='text-center'>Register a new membership</Link>\n    </div>;\n  }\n}\n","import React, {Component} from 'react';\nimport {Grid, Navbar, Nav, NavItem} from 'react-bootstrap';\nimport {IndexLinkContainer, LinkContainer} from 'react-router-bootstrap';\n\nexport default class MainPage extends Component {\n  componentDidMount() {\n    const h = document.body.offsetHeight;\n    if (this.page.offsetHeight < h) this.page.style.height = h + 'px';\n  }\n  render() {\n    return <div className='main-page' ref={c => { this.page = c }}>\n      <header>\n        <Navbar fluid>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <IndexLinkContainer to='/'><a>Onlango-react</a></IndexLinkContainer>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav pullRight={true}>\n              <LinkContainer to='/dashboard'><NavItem>Dashboard</NavItem></LinkContainer>\n              <LinkContainer to='/about'><NavItem>About</NavItem></LinkContainer>\n              <LinkContainer to='/contact'><NavItem>Contact</NavItem></LinkContainer>\n              <LinkContainer to='/login'><NavItem>Login</NavItem></LinkContainer>\n              <LinkContainer to='/register'><NavItem>Register</NavItem></LinkContainer>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n      </header>\n      <Grid fluid>\n        {this.props.children}\n      </Grid>\n      <footer>\n          <Nav>\n            <NavItem disabled>© Onlango-react</NavItem>\n            <IndexLinkContainer to='/'><NavItem>Home</NavItem></IndexLinkContainer>\n            <LinkContainer to='/privacy'><NavItem>Privacy</NavItem></LinkContainer>\n          </Nav>\n      </footer>\n    </div>;\n  }\n}\n","import React from 'react';\nimport {Grid, Tab, Nav, NavItem, Panel} from 'react-bootstrap';\n\nimport InfoForm from './profileEditInfo.jsx';\nimport PasswordForm from './profileEditPassword.jsx';\n\nexport default props =>\n  <Tab.Container defaultActiveKey='info' animation={false}>\n    <Grid fluid>\n        <Nav bsStyle='tabs'>\n        <NavItem eventKey=\"info\">\n          Информация\n        </NavItem>\n        <NavItem eventKey=\"password\">\n          Сменить пароль\n        </NavItem>\n        <NavItem eventKey=\"notify\">\n          Уведомления\n        </NavItem>\n        </Nav>\n      <Tab.Content animation>\n        <Tab.Pane eventKey=\"info\">\n          <InfoForm />\n        </Tab.Pane>\n        <Tab.Pane eventKey=\"password\">\n          <PasswordForm />\n        </Tab.Pane>\n        <Tab.Pane eventKey=\"notify\">\n          <Panel>Уведомления</Panel>\n        </Tab.Pane>\n      </Tab.Content>\n  </Grid>\n  </Tab.Container>;\n","import React, {Component, PropTypes} from 'react';\nimport {Image, Row, Col, Form, FormGroup, FormControl, ControlLabel, Button} from 'react-bootstrap';\nimport Dropzone from 'react-dropzone';\n\nclass DateSelector extends React.Component {\n  state = {\n    months: 'Январь,Февраль,Март,Апрель,Май,Июнь,Июль,Август,Сентябрь,Октябрь,Ноябрь,Декабрь'.split(','),\n    years: Array.apply(null, Array(100)).map((e, i) => i + 1930)\n  };\n  composeDays = ({month = 0, year = 2000}) => {\n    const amount = (new Date(year, month + 1, 0)).getDate();\n    this.setState({days: Array.apply(null, Array(amount)).map((e, i) => i + 1)});\n  };\n  componentWillMount() {\n    this.composeDays(this.props);\n  }\n  componentWillReceiveProps(nextProps, nextState, nextContext) {\n    if (nextProps.month != this.props.month || nextProps.year != this.props.year)\n      this.composeDays(nextProps);\n  }\n  render() {\n    const {day, month, year} = this.props;\n    const d = <option>-</option>;\n    return <Col sm={6}>\n      <FormGroup>\n        <ControlLabel>Дата рождения</ControlLabel>\n        <Row>\n          <Col sm={3}><FormControl id='day' name='day' componentClass='select' value={day}>\n            {d}{this.state.days.map((e, i) => <option key={i} value={e}>{e}</option>)}\n          </FormControl></Col>\n          <Col sm={5}><FormControl id='mounth' name='month' componentClass='select' value={month}>\n            {d}{this.state.months.map((e, i) => <option key={i} value={i}>{e}</option>)}\n          </FormControl></Col>\n          <Col sm={4}><FormControl id='year' name='year' componentClass='select' value={year}>\n            {d}{this.state.years.map((e, i) => <option key={i} value={e}>{e}</option>)}\n          </FormControl></Col>\n        </Row>\n      </FormGroup>\n    </Col>;\n  }\n}\n\nconst GenderSelector = props => <Col sm={props.size||6}>\n  <FormGroup controlId={props.id}>\n    <ControlLabel>{props.label}</ControlLabel>\n    <FormControl componentClass='select' name={props.id} value={props.value}>\n      <option>-</option>\n      <option value='male'>Мужской</option>\n      <option value='female'>Женский</option>\n    </FormControl>\n  </FormGroup>\n</Col>;\n\nconst Input = props => <Col sm={props.size||6}>\n  <FormGroup controlId={props.id}>\n    <ControlLabel>{props.label}</ControlLabel>\n    <FormControl type={props.type || 'text'} name={props.id} placeholder={props.placeholder || props.label} value={props.value} />\n  </FormGroup>\n</Col>;\n\nconst {object, func, string} = PropTypes;\n\nexport default class InfoForm extends Component{\n  static contextTypes = {\n    userinfo: object,\n    uploadImage: func,\n    uploadUserinfo: func,\n    accessToken: string\n  };\n  state = {...this.context.userinfo};\n  drop = ([file]) => { this.context.uploadImage(file, this.context.accessToken) };\n  open = e => { this.refs.dropzone.open() };\n  submit = e => {\n    e.preventDefault();\n    const data = this.state;\n    this.context.uploadUserinfo(data, this.context.accessToken);\n  };\n  change = e => {\n    const {name, value} = e.target;\n    if (name == 'day' || name == 'month' || name == 'year') {\n      this.setState({[name]: value == '-' ? undefined : +value});\n    } else if (name == 'gender') {\n      this.setState({gender: value == '-' ? undefined : value});\n    } else {\n      this.setState({[name]: value});\n    }\n  };\n  componentWillReceiveProps(nextProps, nextContext) {\n    this.setState({...this.state, ...nextContext.userinfo});\n  }\n  render() {\n    const {image, name, surname, country, city, email, phone, gender, interests, day, month, year} = this.state;\n    const birthdate = {day, month, year};\n\n    return <Dropzone\n      ref='dropzone'\n      onDrop={this.drop}\n      multiple={false}\n      disableClick\n      className='profile edit navbar-default dropzone'\n      activeClassName='drop-hovered'>\n      <div className='overlay' />\n\n      <Row>\n        <Col md={10} mdOffset={1}>\n          <Row>\n            <Image src={image} style={{margin: '2rem'}} circle/>\n            <Button bsStyle='primary' onClick={this.open}>Загрузить фото</Button>\n          </Row>\n          <Form onChange={this.change} onSubmit={this.submit}>\n            <Row>\n              <Input id='name' label='Имя' value={name} />\n              <Input id='email' type='email' label='Email' value={email} />\n            </Row>\n            <Row>\n              <Input id='surname' label='Фамилия' value={surname} />\n              <Input id='phone' type='tel' label='Телефон' value={phone} />\n            </Row>\n            <Row>\n              <GenderSelector id='gender' label='Пол' value={gender}/>\n              <Input id='country' label='Страна' value={country} />\n            </Row>\n            <Row>\n              <DateSelector {...birthdate} />\n              <Input id='city' label='Город' value={city} />\n            </Row>\n            <Row>\n              <Input id='interests' label='Интересы' value={interests} size={12} />\n            </Row>\n            <Row>\n              <Col sm={3}><Button bsStyle='primary' type='submit' block className='save'>Сохранить</Button></Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n    </Dropzone>;\n  }\n}\n","import React, {Component, PropTypes} from 'react';\nimport {Row, Col, FormGroup, FormControl, ControlLabel, Button} from 'react-bootstrap';\n\nconst {func, string} = PropTypes;\n\nexport default class ChangePasswordForm extends Component {\n  static contextTypes = {\n    changePassword: func,\n    accessToken: string\n  }\n  state = {};\n  change = e => {\n    this.setState({[e.target.id]: e.target.value});\n  };\n  submit = e => {\n    e.preventDefault();\n    this.context.changePassword(this.state.password, this.context.accessToken);\n  };\n  render() {\n    console.log(this.state);\n    return <Row className='panel' style={{padding: '5rem 2rem'}}>\n      <Col sm={4} smOffset={4}>\n        <form onChange={this.change} onSubmit={this.submit}>\n          <FormGroup controlId=\"password\">\n            <ControlLabel>Новый пароль</ControlLabel>\n            <FormControl type='password' />\n          </FormGroup>\n          <FormGroup controlId=\"retype\">\n            <ControlLabel>Повторный ввод</ControlLabel>\n            <FormControl type='password' />\n          </FormGroup>\n          <Button bsStyle='primary' type='submit' block className='save'>Сменить пароль</Button>\n        </form>\n      </Col>\n    </Row>;\n  }\n}\n","import React from 'react';\nimport {Button, Image, Grid, Row, Col, Glyphicon} from 'react-bootstrap';\nimport {LinkContainer} from 'react-router-bootstrap';\n\nconst styles = {\n  editButton: {\n    marginTop: '2rem'\n  }\n};\nconst choose = d => {\n    d %= 100;\n    if (d > 10 && d < 20) return 2;\n    d %= 10;\n    if (d == 1) return 0;\n    if (d > 1 && d < 5) return 1;\n    return 2;\n};\n\nconst ProfileView = (props, context) => {\n  const {image, name, surname, country, city, year, month} = context.userinfo;\n  const d = new Date();\n  let age;\n  if (year) {\n    age = d.getFullYear() - year;\n    if (d.getMonth() - month < 0) age -= 1;\n    age = `${age} ${['год', 'года', 'лет'][choose(age)]}`;\n  }\n  return <Grid className='profile'>\n    <Row>\n      <Col sm={3} className='text-center'>\n        <Image src={image} circle className='center-block' />\n        <LinkContainer to='/profile/edit'><Button bsStyle='primary' bsSize='sm' style={styles.editButton}>Редактировать</Button></LinkContainer>\n      </Col>\n      <Col sm={4}>\n        <h2>{[name, surname].join(' ')}</h2>\n        <p><Glyphicon glyph='map-marker' /> {[country, city, age].filter(e => e).join(', ')}</p>\n      </Col>\n    </Row>\n  </Grid>;\n};\n\nProfileView.contextTypes = {\n  userinfo: React.PropTypes.object\n};\n\nexport default ProfileView;\n","import React, {Component, PropTypes} from 'react';\nimport {findDOMNode} from 'react-dom';\nimport {Link} from 'react-router';\nimport {Col, Form, FormGroup, FormControl, Checkbox, Button} from 'react-bootstrap';\n\nconst {func, object} = PropTypes;\n\nexport default class Register extends Component {\n  static contextTypes = {login: func, error: object};\n  state = {login: null, retype: null};\n  ref = c => {\n    if (c) {\n      const e = findDOMNode(c);\n      this[e.name] = e;\n    }\n  };\n  submit = e => {\n    e.preventDefault();\n    const [email, password] = ['email', 'password', 'retype'].map(e => this[e].value);\n    this.context.login({email, password, register: true});\n  };\n  change = e => {\n    if (this.state.login) this.setState({login: null});\n    if (this.retype.value != this.password.value) this.setState({retype: {validationState: 'error'}});\n    else this.setState({retype: null});\n  }\n  componentWillReceiveProps(nextProps, nextContext) {\n    if (nextContext.error) this.setState({login: {validationState: 'error'}});\n  }\n  render() {\n    return <div>\n      <p className='msg'>Register a new membership</p>\n      <Form className='login' onSubmit={this.submit} onChange={this.change}>\n        <FormGroup controlId='email' {...this.state.login}>\n          <FormControl type='email' name='email' placeholder='Email' ref={this.ref} />\n          <FormControl.Feedback />\n        </FormGroup>\n        <FormGroup controlId='password'{...this.state.login}>\n          <FormControl type='password' name='password' placeholder='Password' ref={this.ref} />\n          <FormControl.Feedback />\n          </FormGroup>\n        <FormGroup controlId='password' {...this.state.retype}>\n          <FormControl type='password' name='retype' placeholder='Retype password' ref={this.ref} />\n          <FormControl.Feedback />\n          </FormGroup>\n        <FormGroup>\n          <Checkbox>I agree to the <a href='#'>terms</a></Checkbox>\n          </FormGroup>\n        <FormGroup>\n          <Col><Button type='submit' block>Sign in</Button></Col></FormGroup>\n      </Form>\n      <Link to='login' className='text-center'>I already have a membership</Link>\n    </div>;\n  }\n}\n","import React from 'react';\nimport {ListGroup, ListGroupItem} from 'react-bootstrap';\nimport {IndexLinkContainer, LinkContainer} from 'react-router-bootstrap';\n\nexport default props =>\n  <ListGroup fill>\n    <IndexLinkContainer to='/dashboard'><ListGroupItem>Главная</ListGroupItem></IndexLinkContainer>\n    <LinkContainer to='/schedule'><ListGroupItem>Расписание</ListGroupItem></LinkContainer>\n    <LinkContainer to='/payment'><ListGroupItem>Оплата</ListGroupItem></LinkContainer>\n    <LinkContainer to='/archive'><ListGroupItem>Архив</ListGroupItem></LinkContainer>\n    <LinkContainer to='/tests'><ListGroupItem>Тесты</ListGroupItem></LinkContainer>\n    <LinkContainer to='/help'><ListGroupItem>Помощь</ListGroupItem></LinkContainer>\n  </ListGroup>;\n","import React from 'react';\nimport {Grid, Row, Col} from 'react-bootstrap';\n\nexport default props => <Grid>\n  <Row>\n    <Col>\n      <h1>Welcome</h1>\n    </Col>\n  </Row>\n</Grid>;\n","export const [LOGIN, LOGOUT] = ['LOGIN', 'LOGOUT'];\nexport const [UPLOAD_IMAGE, UPLOAD_USERINFO] = ['UPLOAD_IMAGE', 'UPLOAD_USERINFO'];\nexport const GET_USERINFO = 'GET_USERINFO';\nexport const REFRESH_TOKEN = 'REFRESH_TOKEN';\nexport const CHANGE_PASSWORD = 'CHANGE_PASSWORD';\n","import React, {Component} from 'react';\n\nexport default class App extends Component {\n  render() {\n    return <div>{this.props.children}</div>;\n  }\n}\n","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {logout, uploadImage, uploadUserinfo, getUserinfo, changePassword} from '../actions';\nimport Header from '../components/header.jsx';\nimport Sidebar from '../components/sidebar.jsx';\nimport {Grid, Row, Col} from 'react-bootstrap';\n\nclass Dashboard extends React.Component {\n  static childContextTypes = {\n    accessToken: React.PropTypes.string,\n    refreshToken: React.PropTypes.string,\n    userinfo: React.PropTypes.object,\n    logout: React.PropTypes.func,\n    uploadImage: React.PropTypes.func,\n    uploadUserinfo: React.PropTypes.func,\n    getUserinfo: React.PropTypes.func,\n    changePassword: React.PropTypes.func,\n  };\n  getChildContext() {\n    const {userinfo, accessToken, refreshToken} = this.props.user;\n    const {logout, uploadImage, uploadUserinfo, getUserinfo, changePassword} = this.props;\n    return {\n      userinfo,\n      accessToken,\n      refreshToken,\n      logout,\n      uploadImage,\n      uploadUserinfo,\n      getUserinfo,\n      changePassword\n    };\n  }\n  componentWillMount() {\n    this.props.getUserinfo(this.props.user.accessToken);\n  }\n  render() {\n    return <div id='dashboard'>\n      <Header />\n      <Grid fluid>\n        <Row>\n          <Col sm={2}>\n            <Sidebar />\n          </Col>\n          <Col sm={10}>\n            {this.props.children}\n          </Col>\n        </Row>\n      </Grid>\n    </div>;\n  }\n}\n\nconst mapStateToProps = state => ({user: state.user});\nconst mapDispatchToProps = dispatch => bindActionCreators({logout, uploadImage, uploadUserinfo, getUserinfo, changePassword}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n","import React, {Component, PropTypes} from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Grid, Col} from 'react-bootstrap';\nimport {LinkContainer} from 'react-router-bootstrap';\nimport {login, tryRefreshToken} from '../actions';\n\nconst {func, object} = PropTypes;\n\nclass Entrance extends Component {\n  static childContextTypes = {\n    login: func,\n    tryRefreshToken: func,\n    error: object\n  };\n  getChildContext = () => ({\n    login: this.props.login,\n    tryRefreshToken: this.props.tryRefreshToken,\n    error: this.props.user.error\n  })\n  componentWillMount() {\n    const {rt} = this.props.location.query;\n    if (rt) this.props.tryRefreshToken(rt);\n  }\n  render() {\n    return <Grid className='vertical-center entrance'>\n      <Col md={4} mdOffset={4} sm={6} smOffset={3} xs={10} xsOffset={1} className='box'>\n        <div className='logo text-center'>\n          Login to <LinkContainer to='/'><a>Onlango</a></LinkContainer>\n        </div>\n        {this.props.children}\n        {/* <a href='#'>I forgot my password</a><br /> */}\n        <div className='social-auth-links text-center'>\n          <p>- OR -</p>\n          <a href='/google'>Sign in using Google+</a>\n        </div>\n      </Col>\n    </Grid>;\n  }\n}\n\nexport default connect(state => ({user: state.user}), dispatch => bindActionCreators({login, tryRefreshToken}, dispatch))(Entrance);\n","import React from 'react';\nimport {render} from 'react-dom';\nimport {Provider } from 'react-redux';\nimport {Router, browserHistory} from 'react-router';\n\nimport store from './store';\nimport routes from './routes';\n\nrender(\n  <Provider store={store}><Router routes={routes(store)} history={browserHistory} /></Provider>,\n  document.querySelector('#app')\n);\n","import {combineReducers} from 'redux';\nimport {handleActions} from 'redux-actions';\nimport {browserHistory} from 'react-router';\nimport {LOGIN, LOGOUT, UPLOAD_IMAGE, UPLOAD_USERINFO} from '../constants';\nimport {GET_USERINFO, REFRESH_TOKEN} from '../constants';\n\nconst saveTokensToStorage = ({userinfo, accessToken, refreshToken}) => {\n  localStorage.setItem('accessToken', accessToken);\n  localStorage.setItem('refreshToken', refreshToken);\n};\nconst removeTokensFromStorage = () => {\n  localStorage.removeItem('accessToken');\n  localStorage.removeItem('refreshToken');\n};\n\nconst user = handleActions({\n  [LOGIN]: {\n    next: (state = {}, action) => {\n      console.log(action);\n      saveTokensToStorage(action.payload);\n      setTimeout(() => { browserHistory.push('/dashboard') }, 100);\n      return {...state, ...action.payload};\n    },\n    throw: (state = {}, action) => {\n      console.log(action);\n      return {error: action.payload};\n    }\n  },\n  [LOGOUT]: (state = {}, action) => {\n      console.log('do logout', action);\n      removeTokensFromStorage();\n      localStorage.removeItem('userinfo');\n      browserHistory.push('/login');\n      return {};\n    },\n  [UPLOAD_IMAGE]: {\n    next: (state = {}, action) => {\n      const userinfo = {...state.userinfo, image: action.payload};\n      localStorage.setItem('userinfo', JSON.stringify(userinfo));\n      return {...state, userinfo};\n    },\n    fail: (state = {}, action) => { console.log(action); return state }\n  },\n  [UPLOAD_USERINFO]: {\n    next: (state = {}, action) => {\n      console.log(action);\n      localStorage.setItem('userinfo', JSON.stringify(action.payload));\n      browserHistory.push('/profile');\n      return {...state, userinfo: {...action.payload}};\n    },\n    fail: (state = {}, action) => {\n      console.log(action);\n      localStorage.removeItem('userinfo');\n      return state;\n    }\n  },\n  [GET_USERINFO]: {\n    next: (state = {}, action) => {\n      console.log(action);\n      localStorage.setItem('userinfo', JSON.stringify(action.payload));\n      return {...state, userinfo: {...action.payload}};\n    },\n    fail: (state = {}, action) => {\n      console.log(action);\n      localStorage.removeItem('userinfo');\n      return state;\n    }\n  },\n  [REFRESH_TOKEN]: {\n    next: (state = {}, action) => {\n      console.log(action);\n      saveTokensToStorage(action.payload);\n      setTimeout(() => { browserHistory.push('/') }, 100);\n      return {...state, ...action.payload};\n    },\n    fail: (state = {}, action) => { console.log(action); return state }\n  }\n}, {});\n\nexport default combineReducers({\n  user\n});\n","import App from './containers/app.jsx';\nimport Entrance from './containers/entrance.jsx';\nimport Login from './components/login.jsx';\nimport Register from './components/register.jsx';\nimport Dashboard from './containers/dashboard.jsx';\nimport Welcome from './components/welcome.jsx';\nimport ProfileView from './components/profileView.jsx';\nimport ProfileEdit from './components/profileEdit.jsx';\nimport MainPage from './components/mainPage.jsx';\nimport NotFound from './components/404.jsx';\n\nconst connectRequireAuth = store => (nextState, replace) => {\n  console.log('checkAuth', nextState);\n  const state = store.getState();\n  if (!state.user || !state.user.accessToken) replace('/login');\n};\n\nexport default store => {\n  const requireAuth = connectRequireAuth(store);\n  return [\n    {\n      path: '/',\n      component: App,\n      indexRoute: {component: MainPage},\n      childRoutes: [\n        {\n          path: 'dashboard',\n          component: Dashboard,\n          onEnter: requireAuth,\n          indexRoute: {component: Welcome}\n        },\n        {\n          component: MainPage,\n          childRoutes: [\n            {path: 'about', component: NotFound},\n            {path: 'contact', component: NotFound},\n            {path: 'privacy', component: NotFound},\n            {path: 'login', component: Entrance, indexRoute: {component: Login}},\n            {\n              component: Entrance,\n              childRoutes: [{path: 'register', component: Register}]\n            }\n          ]\n        },\n        {\n          component: Dashboard,\n          onEnter: requireAuth,\n          childRoutes: [\n            {path: 'profile', component: ProfileView},\n            {path: 'profile/edit', component: ProfileEdit},\n            {path: 'schedule', component: NotFound},\n            {path: 'payment', component: NotFound},\n            {path: 'archive', component: NotFound},\n            {path: 'tests', component: NotFound},\n            {path: 'help', component: NotFound},\n          ]\n        }\n      ],\n    },\n    {\n      path: '*',\n      statusCode: 404,\n      component: NotFound\n    }\n  ];\n};\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\n\nconst state = {\n  user: {\n    userinfo: JSON.parse(localStorage.getItem('userinfo')),\n    accessToken: localStorage.getItem('accessToken'),\n    refreshToken: localStorage.getItem('refreshToken')\n  }\n};\n\nexport default createStore(\n  reducer,\n  state,\n  compose(\n    applyMiddleware(thunk),\n    typeof window != 'undefined' && window.devToolsExtension ? window.devToolsExtension() : f => f\n  )\n);\n"],"sourceRoot":""}